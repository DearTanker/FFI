(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{9281:function(e,t,n){Promise.resolve().then(n.bind(n,6549))},6549:function(e,t,n){"use strict";n.d(t,{FilamentProvider:function(){return i},Z:function(){return s}});var r=n(7437),o=n(2265),a=n(9458);let c=(0,o.createContext)({index:null,loading:!0,error:null});function i(e){let{children:t}=e,[n,i]=(0,o.useState)(null),[s,u]=(0,o.useState)(!0),[l,f]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(0,a.Be)().then(e=>{i(e),u(!1)}).catch(e=>{console.error(e),f(e),u(!1)})},[]),(0,r.jsx)(c.Provider,{value:{index:n,loading:s,error:l},children:t})}let s=()=>(0,o.useContext)(c)},9458:function(e,t,n){"use strict";n.d(t,{Be:function(){return o},QX:function(){return a},cp:function(){return u},dH:function(){return c},gU:function(){return s},yu:function(){return i}});let r=null;async function o(){if(r)return r;let e=await fetch("/api/github/tree");if(!e.ok){console.error("Failed to fetch tree:",e.status,e.statusText);let t=await e.json().catch(()=>({}));if(t.details)try{let e=JSON.parse(t.details);if(e.message&&e.message.includes("API rate limit exceeded"))throw Error("GitHub API rate limit exceeded. Please try again later or configure a GITHUB_TOKEN.");throw Error("GitHub API Error: ".concat(e.message||t.details))}catch(n){throw Error("Failed to fetch tree: ".concat(t.details||e.statusText))}throw Error("Failed to fetch tree: ".concat(e.statusText))}let t=await e.json(),n=new Set,o=new Map,a=new Map,c=new Map;for(let e of t.tree){if(!e.path.startsWith("Filaments/")||"blob"!==e.type||!e.path.endsWith(".json"))continue;let t=e.path.split("/");if(t.length<5)continue;let r=t[1],i=t[2],s=t[3],u=t[4];n.add(r),o.has(r)||o.set(r,new Set),o.get(r).add(i);let l="".concat(r,"|||").concat(i);a.has(l)||a.set(l,new Set),a.get(l).add(s);let f="".concat(r,"|||").concat(i,"|||").concat(s);c.has(f)||c.set(f,[]);let d=u.replace(".json","");c.get(f).push({vendor:r,type:i,series:s,fileName:u,displayName:d,compatiblePrinters:[]})}let i=(e,t)=>e.localeCompare(t,"zh-Hans-CN",{numeric:!0}),s=Array.from(n).sort(i),u=new Map;o.forEach((e,t)=>{u.set(t,Array.from(e).sort(i))});let l=new Map;return a.forEach((e,t)=>{l.set(t,Array.from(e).sort(i))}),c.forEach(e=>{e.sort((e,t)=>i(e.displayName,t.displayName))}),r={vendors:s,typesByVendor:u,seriesByVendorType:l,profilesByVendorTypeSeries:c}}async function a(e){let t=await fetch("/api/github/content?path=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch profile content");return t.json()}function c(e){return e.vendors}function i(e,t){var n;return null!==(n=e.typesByVendor.get(t))&&void 0!==n?n:[]}function s(e,t,n){var r;return null!==(r=e.seriesByVendorType.get("".concat(t,"|||").concat(n)))&&void 0!==r?r:[]}function u(e,t,n,r){var o;return null!==(o=e.profilesByVendorTypeSeries.get("".concat(t,"|||").concat(n,"|||").concat(r)))&&void 0!==o?o:[]}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9281)}),_N_E=e.O()}]);