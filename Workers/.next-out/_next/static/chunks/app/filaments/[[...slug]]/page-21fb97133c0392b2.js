(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{5795:function(e,t,a){Promise.resolve().then(a.bind(a,2592))},2592:function(e,t,a){"use strict";a.d(t,{default:function(){return w}});var i=a(7437),n=a(2265),l=a(5475);function r(e){try{return decodeURIComponent(e)}catch(t){return e}}var o=a(2972),s=a.n(o);function c(e){let{href:t,...a}=e;return(0,i.jsx)(s(),{href:function(e){if(!e.startsWith("/")||"/"===e||e.startsWith("/_next/"))return e;let t=e.indexOf("#"),a=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t):"",n=a.indexOf("?"),l=n>=0?a.slice(0,n):a,r=n>=0?a.slice(n):"";return l.endsWith("/")?l+r+i:l+"/"+r+i}(t),...a})}function d(e){let t=[{label:"耗材",href:"/filaments"}];return e.vendor&&t.push({label:e.vendor,href:"/filaments/".concat(e.vendor)}),e.vendor&&e.type&&t.push({label:e.type,href:"/filaments/".concat(e.vendor,"/").concat(e.type)}),e.vendor&&e.type&&e.series&&t.push({label:e.series,href:"/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series)}),e.profileLabel&&t.push({label:e.profileLabel}),(0,i.jsx)("div",{className:"text-sm text-zinc-300",children:t.map((e,t)=>{let a=0===t?null:(0,i.jsx)("span",{className:"px-2 text-zinc-600",children:"/"}),n=e.href?(0,i.jsx)(c,{href:e.href,className:"hover:text-zinc-50",children:e.label}):(0,i.jsx)("span",{className:"text-zinc-50",children:e.label});return(0,i.jsxs)("span",{children:[a,n]},"".concat(e.label,"-").concat(t))})})}var m=a(6549),p=a(9458);function g(e){let{index:t,loading:a,error:n}=(0,m.Z)();if(n)return(0,i.jsxs)("aside",{className:"w-60 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:[(0,i.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-red-400",children:"加载失败"}),(0,i.jsx)("div",{className:"mt-1 text-xs text-zinc-500",children:"请检查网络或刷新重试"})]}),(0,i.jsx)("div",{className:"p-4 text-xs text-red-400/80 break-all",children:n.message})]});if(a||!t)return(0,i.jsx)("aside",{className:"w-60 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:(0,i.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"耗材丝设置"}),(0,i.jsx)("div",{className:"mt-1 text-[10px] text-zinc-500",children:"正在加载..."})]})});let l=(0,p.dH)(t);return(0,i.jsxs)("aside",{className:"w-60 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:[(0,i.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"FDM 3D 打印耗材品牌"}),(0,i.jsx)("div",{className:"mt-1 text-[10px] text-zinc-500",children:"耗材 → 耗材类型 → 耗材系列 → 耗材丝设置"})]}),(0,i.jsxs)("nav",{className:"px-2 py-2 text-sm",children:[(0,i.jsx)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400",children:"品牌"}),(0,i.jsx)("div",{className:"space-y-1",children:l.map(t=>{let a=t===e.vendor;return(0,i.jsx)(c,{href:"/filaments/".concat(t),className:["flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60",a?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"].join(" "),children:(0,i.jsx)("span",{className:"truncate",children:t})},t)})})]})]})}function u(e){return(0,i.jsx)("div",{className:"flex min-h-screen bg-zinc-950",children:(0,i.jsxs)("div",{className:"mx-auto w-full max-w-7xl flex",children:[(0,i.jsx)(g,{vendor:e.vendor,type:e.type,series:e.series}),(0,i.jsx)("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:e.children})]})})}var f=a(6760);function _(e){let[t,a]=(0,n.useState)("__all__"),[l,r]=(0,n.useState)(e.profiles);(0,n.useEffect)(()=>{(async()=>{r(await Promise.all(e.profiles.map(async t=>{if(t.compatiblePrinters.length>0)return t;try{let a="Filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series,"/").concat(t.fileName),i=await fetch("/api/github/content?path=".concat(encodeURIComponent(a)));if(!i.ok)return t;let n=(await i.json()).compatible_printers,l=Array.isArray(n)?n.map(e=>"string"==typeof e?e:"").filter(Boolean):[];return{...t,compatiblePrinters:l}}catch(e){return console.error("Failed to fetch printers for ".concat(t.fileName,":"),e),t}})))})()},[e.vendor,e.type,e.series,e.profiles]);let o=(0,n.useMemo)(()=>[...new Set(l.flatMap(e=>{var t;return null!==(t=e.compatiblePrinters)&&void 0!==t?t:[]}).filter(Boolean))].sort((e,t)=>e.localeCompare(t,"zh-Hans-CN",{numeric:!0})),[l]),s=(0,n.useMemo)(()=>"__all__"===t?l:l.filter(e=>{var a;return(null!==(a=e.compatiblePrinters)&&void 0!==a?a:[]).includes(t)}),[t,e.fileName,l]);return(0,i.jsxs)("div",{className:"sticky top-4 rounded-lg border border-zinc-800 bg-zinc-900/40",children:[(0,i.jsxs)("div",{className:"border-b border-zinc-800 px-4 py-3",children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-zinc-50",children:"耗材丝设置"}),(0,i.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-zinc-400",children:[(0,i.jsx)(c,{href:"/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series),className:"text-emerald-400 hover:text-emerald-300",children:"返回列表"}),(0,i.jsxs)("span",{children:[l.length," 个配置"]})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,i.jsx)("div",{className:"shrink-0 text-xs text-zinc-400",children:"兼容打印机"}),(0,i.jsxs)("select",{value:t,onChange:e=>a(e.target.value),className:"h-8 w-full rounded-md border border-zinc-700 bg-zinc-900 px-2 text-sm text-zinc-100 focus:border-emerald-500 focus:outline-none",children:[(0,i.jsx)("option",{value:"__all__",children:"全部"}),o.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]})]}),(0,i.jsx)("div",{className:"p-2",children:s.map(t=>{let a="/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series,"/").concat(t.displayName),n=t.fileName===e.fileName,l=t.compatiblePrinters.length>0?t.compatiblePrinters.join(" \xb7 "):t.fileName,r=t.displayName.replace(/\s*@.*$/,"")||t.displayName;return(0,i.jsxs)(c,{href:a,className:["block rounded-md px-2 py-2 hover:bg-zinc-800/60",n?"bg-zinc-800/80":""].join(" "),children:[(0,i.jsx)("div",{className:"truncate text-sm font-medium text-zinc-50",children:r}),(0,i.jsx)("div",{className:"mt-0.5 text-xs text-zinc-400 break-words",children:l})]},t.fileName)})})]})}let x={filament_type:{pageId:"filament-basic",groupId:"information",label:"类型"},filament_vendor:{pageId:"filament-basic",groupId:"information",label:"供应商"},filament_soluble:{pageId:"filament-basic",groupId:"information",label:"可溶性材料",kind:"bool"},filament_is_support:{pageId:"filament-basic",groupId:"information",label:"支撑材料",kind:"bool"},filament_change_length:{pageId:"filament-basic",groupId:"information",label:"耗材冲击长度",unit:"mm"},required_nozzle_HRC:{pageId:"filament-basic",groupId:"information",label:"喷嘴硬度要求"},default_filament_colour:{pageId:"filament-basic",groupId:"information",label:"默认颜色"},filament_diameter:{pageId:"filament-basic",groupId:"information",label:"直径",unit:"mm"},filament_adhesiveness_category:{pageId:"filament-basic",groupId:"information",label:"粘性分类"},filament_density:{pageId:"filament-basic",groupId:"information",label:"密度",unit:"克/立方厘米"},filament_shrink:{pageId:"filament-basic",groupId:"information",label:"收缩率（XY）"},filament_shrinkage_compensation_z:{pageId:"filament-basic",groupId:"information",label:"收缩率（Z）",unit:"%"},filament_cost:{pageId:"filament-basic",groupId:"information",label:"价格",unit:"money/kg"},temperature_vitrification:{pageId:"filament-basic",groupId:"information",label:"软化温度",unit:"℃"},idle_temperature:{pageId:"filament-basic",groupId:"information",label:"待机温度",unit:"℃"},nozzle_temperature_range_low:{pageId:"filament-basic",groupId:"information",label:"建议喷嘴温度（最小）",unit:"℃",paired:{pairKey:"nozzle_temp_range",pairLabel:"建议喷嘴温度",pairPosition:"left",pairLeftLabel:"最小",pairRightLabel:"最大"}},nozzle_temperature_range_high:{pageId:"filament-basic",groupId:"information",label:"建议喷嘴温度（最大）",unit:"℃",paired:{pairKey:"nozzle_temp_range",pairLabel:"建议喷嘴温度",pairPosition:"right",pairLeftLabel:"最小",pairRightLabel:"最大"}},filament_flow_ratio:{pageId:"filament-basic",groupId:"flow-ratio",label:"流量比例"},enable_pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"启用压力提前",kind:"bool"},pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"压力提前"},adaptive_pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"启用自适应压力提前（试验）",kind:"bool"},chamber_temperatures:{pageId:"filament-basic",groupId:"chamber-temp",label:"激活温度控制",unit:"℃"},nozzle_temperature_initial_layer:{pageId:"filament-basic",groupId:"extruder-temp",label:"喷嘴（首层）",unit:"℃",paired:{pairKey:"nozzle_temp",pairLabel:"喷嘴",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},nozzle_temperature:{pageId:"filament-basic",groupId:"extruder-temp",label:"喷嘴（其它层）",unit:"℃",paired:{pairKey:"nozzle_temp",pairLabel:"喷嘴",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},supertack_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印板（超强粘附）首层",unit:"℃",paired:{pairKey:"supertack_plate",pairLabel:"低温打印板（超强粘附）",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},supertack_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印板（超强粘附）其它层",unit:"℃",paired:{pairKey:"supertack_plate",pairLabel:"低温打印板（超强粘附）",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},cool_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印热床首层",unit:"℃",paired:{pairKey:"cool_plate",pairLabel:"低温打印热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},cool_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印热床其它层",unit:"℃",paired:{pairKey:"cool_plate",pairLabel:"低温打印热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_cool_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理的低温打印床首层",unit:"℃",paired:{pairKey:"textured_cool_plate",pairLabel:"纹理的低温打印床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_cool_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理的低温打印床其它层",unit:"℃",paired:{pairKey:"textured_cool_plate",pairLabel:"纹理的低温打印床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},eng_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"工程材料热床首层",unit:"℃",paired:{pairKey:"eng_plate",pairLabel:"工程材料热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},eng_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"工程材料热床其它层",unit:"℃",paired:{pairKey:"eng_plate",pairLabel:"工程材料热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},hot_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"光滑PEI板/高温板首层",unit:"℃",paired:{pairKey:"hot_plate",pairLabel:"光滑PEI板/高温板",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},hot_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"光滑PEI板/高温板其它层",unit:"℃",paired:{pairKey:"hot_plate",pairLabel:"光滑PEI板/高温板",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理PEI热床首层",unit:"℃",paired:{pairKey:"textured_plate",pairLabel:"纹理PEI热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理PEI热床其它层",unit:"℃",paired:{pairKey:"textured_plate",pairLabel:"纹理PEI热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},filament_adaptive_volumetric_speed:{pageId:"filament-basic",groupId:"volumetric-speed",label:"自适应体积速度",kind:"bool"},filament_max_volumetric_speed:{pageId:"filament-basic",groupId:"volumetric-speed",label:"最大体积速度",unit:"毫米立方/秒"},close_fan_the_first_x_layers:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"关闭冷却对前",unit:"层"},full_fan_speed_layer:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"满速风扇在",unit:"层"},fan_min_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"最小风扇速度阈值（风扇速度）",unit:"%",paired:{pairKey:"fan_min_threshold",pairLabel:"最小风扇速度阈值",pairPosition:"left",pairLeftLabel:"风扇速度",pairRightLabel:"层时间"}},fan_cooling_layer_time:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"最小风扇速度阈值（层时间）",unit:"s",paired:{pairKey:"fan_min_threshold",pairLabel:"最小风扇速度阈值",pairPosition:"right",pairLeftLabel:"风扇速度",pairRightLabel:"层时间"}},fan_max_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"最大风扇速度阈值（风扇速度）",unit:"%",paired:{pairKey:"fan_max_threshold",pairLabel:"最大风扇速度阈值",pairPosition:"left",pairLeftLabel:"风扇速度",pairRightLabel:"层时间"}},slow_down_layer_time:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"最大风扇速度阈值（层时间）",unit:"s",paired:{pairKey:"fan_max_threshold",pairLabel:"最大风扇速度阈值",pairPosition:"right",pairLeftLabel:"风扇速度",pairRightLabel:"层时间"}},reduce_fan_stop_start_freq:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"保持风扇常开",kind:"bool"},slow_down_for_layer_cooling:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"降低打印速度 以得到更好的冷却",kind:"bool"},no_slow_down_for_cooling_on_outwalls:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"不减速外墙",kind:"bool"},slow_down_min_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"最小打印速度",unit:"毫米/秒"},enable_overhang_bridge_fan:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"悬垂/桥接强制冷却",kind:"bool"},overhang_fan_threshold:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"悬垂冷却激活阈值"},overhang_fan_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"悬垂和外部桥接风扇速度",unit:"%"},first_x_layer_fan_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"初始层风扇速度",unit:"%"},pre_start_fan_time:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"打印前启动风扇"},overhang_threshold_participating_cooling:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"悬垂和部件冷却参与阈值"},filament_enable_overhang_speed:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"启用悬垂速度",kind:"bool"},additional_cooling_fan_speed:{pageId:"filament-cooling",groupId:"cooling-aux-fan",label:"风扇速度",unit:"%"},activate_air_filtration:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"启用空气过滤/排气",kind:"bool"},during_print_exhaust_fan_speed:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"打印中",unit:"%"},complete_print_exhaust_fan_speed:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"完成打印",unit:"%"},filament_retraction_length:{pageId:"filament-overrides",groupId:"retraction",label:"长度",unit:"mm"},filament_z_hop:{pageId:"filament-overrides",groupId:"retraction",label:"Z抬升高度",unit:"mm"},filament_z_hop_types:{pageId:"filament-overrides",groupId:"retraction",label:"Z抬升类型"},filament_retraction_speed:{pageId:"filament-overrides",groupId:"retraction",label:"回抽速度",unit:"毫米/秒"},filament_deretraction_speed:{pageId:"filament-overrides",groupId:"retraction",label:"重新装填速度",unit:"毫米/秒"},filament_retract_restart_extra:{pageId:"filament-overrides",groupId:"retraction",label:"额外回填长度",unit:"mm"},filament_retraction_minimum_travel:{pageId:"filament-overrides",groupId:"retraction",label:"空驶距离阈值",unit:"mm"},filament_retract_when_changing_layer:{pageId:"filament-overrides",groupId:"retraction",label:"换层时回抽",kind:"bool"},filament_wipe:{pageId:"filament-overrides",groupId:"retraction",label:"回抽时擦拭",kind:"bool"},filament_wipe_distance:{pageId:"filament-overrides",groupId:"retraction",label:"擦拭距离",unit:"mm"},filament_retract_before_wipe:{pageId:"filament-overrides",groupId:"retraction",label:"擦拭前的回抽量",unit:"%"},filament_long_retractions_when_cut:{pageId:"filament-overrides",groupId:"retraction",label:"切料时回抽（实验）",kind:"bool"},filament_retraction_distances_when_cut:{pageId:"filament-overrides",groupId:"retraction",label:"切料回抽距离"},filament_ironing_flow:{pageId:"filament-overrides",groupId:"ironing",label:"熨烫流量",unit:"%"},filament_ironing_spacing:{pageId:"filament-overrides",groupId:"ironing",label:"熨烫间距",unit:"mm"},filament_ironing_inset:{pageId:"filament-overrides",groupId:"ironing",label:"熨烫内缩",unit:"mm"},filament_ironing_speed:{pageId:"filament-overrides",groupId:"ironing",label:"熨烫速度",unit:"毫米/秒"},filament_start_gcode:{pageId:"filament-advanced",groupId:"gcode-start",label:"耗材丝起始G-code",kind:"multiline"},filament_end_gcode:{pageId:"filament-advanced",groupId:"gcode-end",label:"耗材丝结束G-code",kind:"multiline"},filament_minimal_purge_on_wipe_tower:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔上的最小清理量",unit:"立方毫米"},filament_tower_interface_pre_extrusion_dist:{pageId:"filament-multimaterial",groupId:"tower-params",label:"Interface layer pre-extrusion distance",unit:"mm"},filament_tower_interface_pre_extrusion_length:{pageId:"filament-multimaterial",groupId:"tower-params",label:"Interface layer pre-extrusion length",unit:"mm"},filament_tower_ironing_area:{pageId:"filament-multimaterial",groupId:"tower-params",label:"Tower ironing area",unit:"平方毫米"},filament_tower_interface_purge_volume:{pageId:"filament-multimaterial",groupId:"tower-params",label:"Interface layer purge length",unit:"mm"},filament_tower_interface_print_temp:{pageId:"filament-multimaterial",groupId:"tower-params",label:"Interface layer print temperature",unit:"℃"},filament_cooling_before_tower:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔前冷却"},filament_loading_speed_start:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"加载初始速度",unit:"毫米/秒"},filament_loading_speed:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"装载速度",unit:"毫米/秒"},filament_unloading_speed_start:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"卸载初始速度",unit:"毫米/秒"},filament_unloading_speed:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"卸载速度",unit:"毫米/秒"},filament_toolchange_delay:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"卸载后延迟",unit:"s"},filament_cooling_moves:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"冷却移动次数"},filament_cooling_initial_speed:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"第一次冷却移动的速度",unit:"毫米/秒"},filament_cooling_final_speed:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"最后一次冷却移动的速度",unit:"毫米/秒"},filament_ramming_volumetric_speed:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"尖端成型加载速度"},filament_stamping_distance:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"从冷却管中心测量的尖端成型距离"},counter_coef_1:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"色彩校准参数 1"},counter_coef_2:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"色彩校准参数 2"},counter_coef_3:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"色彩校准参数 3"},counter_limit_min:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"色彩校准最小值"},counter_limit_max:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"色彩校准最大值"},filament_multitool_ramming:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"启用多色尖端成型设置",kind:"bool"},filament_multitool_ramming_volume:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多色尖端成型体积",unit:"立方毫米"},filament_multitool_ramming_flow:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多色尖端成型流量",unit:"毫米立方/秒"},hole_coef_1:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"色彩校准参数 1"},hole_coef_2:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"色彩校准参数 2"},hole_coef_3:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"色彩校准参数 3"},hole_limit_min:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"色彩校准最小值"},hole_limit_max:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"色彩校准最大值"},compatible_printers:{pageId:"filament-dependencies",groupId:"compatible-printers",label:"兼容打印机"},filament_notes:{pageId:"filament-notes",groupId:"notes",label:"备注",kind:"multiline"}};function h(e){let t=x[e];return t?{label:t.label,unit:t.unit,kind:t.kind,paired:t.paired}:null}let b={information:["filament_type","filament_vendor","filament_soluble","filament_is_support","filament_change_length","required_nozzle_HRC","default_filament_colour","filament_diameter","filament_adhesiveness_category","filament_density","filament_shrink","filament_shrinkage_compensation_z","filament_cost","temperature_vitrification","idle_temperature","nozzle_temperature_range_low","nozzle_temperature_range_high"],"flow-ratio":["filament_flow_ratio","enable_pressure_advance","pressure_advance","adaptive_pressure_advance"],"chamber-temp":["chamber_temperatures"],"extruder-temp":["nozzle_temperature_initial_layer","nozzle_temperature"],"bed-temp":["supertack_plate_temp_initial_layer","supertack_plate_temp","cool_plate_temp_initial_layer","cool_plate_temp","textured_cool_plate_temp_initial_layer","textured_cool_plate_temp","eng_plate_temp_initial_layer","eng_plate_temp","hot_plate_temp_initial_layer","hot_plate_temp","textured_plate_temp_initial_layer","textured_plate_temp"],"volumetric-speed":["filament_adaptive_volumetric_speed","filament_max_volumetric_speed"],"cooling-specific-layer":["close_fan_the_first_x_layers","full_fan_speed_layer"],"cooling-part-fan":["fan_min_speed","fan_cooling_layer_time","fan_max_speed","slow_down_layer_time","reduce_fan_stop_start_freq","slow_down_for_layer_cooling","no_slow_down_for_cooling_on_outwalls","slow_down_min_speed","enable_overhang_bridge_fan","overhang_fan_threshold","overhang_fan_speed","first_x_layer_fan_speed","pre_start_fan_time","overhang_threshold_participating_cooling","filament_enable_overhang_speed"],"cooling-aux-fan":["additional_cooling_fan_speed"],"cooling-exhaust":["activate_air_filtration","during_print_exhaust_fan_speed","complete_print_exhaust_fan_speed"],retraction:["filament_retraction_length","filament_z_hop","filament_z_hop_types","filament_retraction_speed","filament_deretraction_speed","filament_retract_restart_extra","filament_retraction_minimum_travel","filament_retract_when_changing_layer","filament_wipe","filament_wipe_distance","filament_retract_before_wipe","filament_long_retractions_when_cut","filament_retraction_distances_when_cut"],ironing:["filament_ironing_flow","filament_ironing_spacing","filament_ironing_inset","filament_ironing_speed"],"gcode-start":["filament_start_gcode"],"gcode-end":["filament_end_gcode"],"tower-params":["filament_minimal_purge_on_wipe_tower","filament_tower_interface_pre_extrusion_dist","filament_tower_interface_pre_extrusion_length","filament_tower_ironing_area","filament_tower_interface_purge_volume","filament_tower_interface_print_temp","filament_cooling_before_tower"],"toolchange-single":["filament_loading_speed_start","filament_loading_speed","filament_unloading_speed_start","filament_unloading_speed","filament_toolchange_delay","filament_cooling_moves","filament_cooling_initial_speed","filament_cooling_final_speed","filament_ramming_volumetric_speed","filament_stamping_distance","counter_coef_1","counter_coef_2","counter_coef_3","counter_limit_min","counter_limit_max"],"toolchange-multi":["filament_multitool_ramming","filament_multitool_ramming_volume","filament_multitool_ramming_flow","hole_coef_1","hole_coef_2","hole_coef_3","hole_limit_min","hole_limit_max"],"compatible-printers":["compatible_printers"],notes:["filament_notes"]},v=["filament-basic","filament-cooling","filament-overrides","filament-advanced","filament-multimaterial","filament-dependencies","filament-notes"],I={"filament-basic":["information","flow-ratio","chamber-temp","extruder-temp","bed-temp","volumetric-speed"],"filament-cooling":["cooling-specific-layer","cooling-part-fan","cooling-aux-fan","cooling-exhaust"],"filament-overrides":["retraction","ironing"],"filament-advanced":["gcode-start","gcode-end"],"filament-multimaterial":["tower-params","toolchange-single","toolchange-multi"],"filament-dependencies":["compatible-printers"],"filament-notes":["notes"]},j={information:{name:"基础信息",iconName:"information"},"flow-ratio":{name:"流量和压力提前",iconName:"flow-ratio"},"chamber-temp":{name:"打印仓温度",iconName:"chamber-temp"},"extruder-temp":{name:"打印温度",iconName:"extruder-temp"},"bed-temp":{name:"床温",iconName:"bed-temp"},"volumetric-speed":{name:"体积速度限制",iconName:"volumetric-speed"},"cooling-specific-layer":{name:"特定层冷却",iconName:"cooling-specific-layer"},"cooling-part-fan":{name:"部件冷却风扇",iconName:"cooling-part-fan"},"cooling-aux-fan":{name:"辅助部件冷却风扇",iconName:"cooling-aux-fan"},"cooling-exhaust":{name:"排气风扇",iconName:"cooling-exhaust"},retraction:{name:"回抽",iconName:"retraction"},ironing:{name:"熨烫",iconName:"ironing"},"gcode-start":{name:"耗材丝起始G-code",iconName:"gcode"},"gcode-end":{name:"耗材丝结束G-code",iconName:"gcode"},"tower-params":{name:"色塔参数",iconName:"tower"},"toolchange-single":{name:"单挤出机多材料打印机的换色参数",iconName:"toolchange"},"toolchange-multi":{name:"多挤出机多材料打印机的换色参数",iconName:"toolchange-multi-extruder"},"compatible-printers":{name:"兼容打印机",iconName:"dependencies-printers"},notes:{name:"备注",iconName:"note"}},N={"filament-basic":{name:"耗材丝",iconName:"filament"},"filament-cooling":{name:"冷却",iconName:"cooling"},"filament-overrides":{name:"参数覆盖",iconName:"setting-override"},"filament-advanced":{name:"高级",iconName:"advanced"},"filament-multimaterial":{name:"材料",iconName:"multimaterial"},"filament-dependencies":{name:"依赖",iconName:"dependencies"},"filament-notes":{name:"注释",iconName:"note"}},y=()=>(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})});function z(e){let{data:t,rawData:a,className:l=""}=e,[r,o]=(0,n.useState)(v[0]),[s,c]=(0,n.useState)(new Set),d=(0,n.useMemo)(()=>(function(e,t){let a={};for(let[i,n]of Object.entries(x)){if(n.pageId!==t)continue;a[n.groupId]||(a[n.groupId]={});let l=i in e?e[i]:void 0;a[n.groupId][i]=[{key:i,label:n.label,value:l,unit:n.unit,kind:n.kind,paired:n.paired}]}return a})(t,r),[t,r]);N[r];let m=I[r]||[],p=e=>{let t=new Set(s);t.has(e)?t.delete(e):t.add(e),c(t)},g=e=>null==e?"":Array.isArray(e)?e.length>0?String(e[0]):"":String(e),u=(e,t,a)=>{if("bool"===a){let t="1"===e||"true"===e.toLowerCase();return(0,i.jsx)("div",{className:"flex h-8 items-center px-1",children:(0,i.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded border ".concat(t?"border-emerald-500 bg-emerald-500":"border-zinc-600 bg-zinc-800/60"),children:t&&(0,i.jsx)("svg",{className:"h-3.5 w-3.5 text-white",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M2 6l3 3 5-5"})})})})}return"multiline"===a?e?(0,i.jsx)("textarea",{readOnly:!0,value:e,rows:1,style:{fieldSizing:"content"},className:"w-full min-h-[2rem] resize-none rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 pr-8 font-mono text-[12px] text-zinc-100 focus:outline-none overflow-hidden"}):(0,i.jsx)("div",{className:"flex items-center h-8 rounded-md border border-zinc-700 bg-zinc-950/40 px-3 pr-8 overflow-hidden",children:(0,i.jsx)("span",{className:"text-sm text-zinc-600",children:"—"})}):(0,i.jsxs)("div",{className:"flex items-center h-8 rounded-md border border-zinc-700 bg-zinc-950/40 px-3 pr-8 overflow-hidden",children:[(0,i.jsx)("span",{className:"text-sm truncate ".concat(e?"text-zinc-100":"text-zinc-600"),children:e||"—"}),t&&e&&(0,i.jsx)("span",{className:"text-xs text-zinc-500 select-none ml-1 shrink-0",children:t})]})},_=(e,t,a)=>{let n='"'.concat(e,'": ').concat(JSON.stringify(t,null,2));return(0,i.jsxs)("div",{className:"relative w-full",children:[(0,i.jsx)("textarea",{readOnly:!0,value:n,rows:1,style:{fieldSizing:"content"},className:"w-full resize-none rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 pr-10 font-mono text-[12px] text-blue-400 focus:outline-none overflow-hidden"}),(0,i.jsx)("button",{onClick:a,className:"absolute right-2 top-1 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"返回数值",children:(0,i.jsx)(y,{})})]})},z=(e,t)=>{let n=b[e],l=n?n.filter(e=>t[e]):Object.keys(t),r=new Set,o=[];for(let e of l){let n=t[e],c=Array.isArray(n)?n[0]:n;if(!c)continue;let d=h(e),m=g(c.value);if(c.paired){let n=c.paired.pairKey;if(r.has(n))continue;r.add(n);let d="left"===c.paired.pairPosition,m=d?e:l.find(e=>{var t,a;let i=h(e);return(null==i?void 0:null===(t=i.paired)||void 0===t?void 0:t.pairKey)===n&&(null==i?void 0:null===(a=i.paired)||void 0===a?void 0:a.pairPosition)==="left"}),f=d?l.find(e=>{var t,a;let i=h(e);return(null==i?void 0:null===(t=i.paired)||void 0===t?void 0:t.pairKey)===n&&(null==i?void 0:null===(a=i.paired)||void 0===a?void 0:a.pairPosition)==="right"}):e;if(!m||!f)continue;let x=Array.isArray(t[m])?t[m][0]:t[m],b=Array.isArray(t[f])?t[f][0]:t[f];if(!x||!b)continue;let v=g(x.value),I=g(b.value),j=s.has(m),N=s.has(f),z=a?a[m]:x.value,w=a?a[f]:b.value;o.push((0,i.jsx)("div",{className:"py-1.5",children:(0,i.jsxs)("div",{className:"grid grid-cols-[200px,auto,1fr,auto,1fr] items-center gap-2",children:[(0,i.jsxs)("div",{className:"min-w-0",children:[(0,i.jsx)("div",{className:"text-xs text-zinc-200 break-words",children:c.paired.pairLabel}),(0,i.jsx)("div",{className:"mt-0.5 font-mono text-[10px] text-zinc-500 break-all",children:m}),(0,i.jsx)("div",{className:"font-mono text-[10px] text-zinc-500 break-all",children:f})]}),(0,i.jsx)("div",{className:"text-xs text-zinc-500 shrink-0",children:c.paired.pairLeftLabel}),(0,i.jsx)("div",{className:"relative min-w-0",children:j?_(m,z,()=>p(m)):(0,i.jsxs)(i.Fragment,{children:[u(v,x.unit,x.kind),(0,i.jsx)("button",{onClick:()=>p(m),className:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"查看源代码",children:(0,i.jsx)(y,{})})]})}),(0,i.jsx)("div",{className:"text-xs text-zinc-500 shrink-0",children:c.paired.pairRightLabel}),(0,i.jsx)("div",{className:"relative min-w-0",children:N?_(f,w,()=>p(f)):(0,i.jsxs)(i.Fragment,{children:[u(I,b.unit,b.kind),(0,i.jsx)("button",{onClick:()=>p(f),className:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"查看源代码",children:(0,i.jsx)(y,{})})]})})]})},n));continue}let f=s.has(e),x=a?a[e]:c.value;o.push((0,i.jsx)("div",{className:"py-1.5",children:f?(0,i.jsxs)("div",{className:"grid grid-cols-[200px,1fr] items-start gap-4",children:[(0,i.jsxs)("div",{className:"min-w-0 pt-1",children:[(0,i.jsx)("div",{className:"text-xs text-zinc-200 break-words",children:c.label||(null==d?void 0:d.label)||e}),(0,i.jsx)("div",{className:"mt-0.5 font-mono text-[10px] text-zinc-500 break-all",children:e})]}),(0,i.jsx)("div",{className:"min-w-0",children:_(e,x,()=>p(e))})]}):(0,i.jsxs)("div",{className:"grid grid-cols-[200px,1fr] items-center gap-4",children:[(0,i.jsxs)("div",{className:"min-w-0",children:[(0,i.jsx)("div",{className:"text-xs text-zinc-200 break-words",children:c.label||(null==d?void 0:d.label)||e}),(0,i.jsx)("div",{className:"mt-0.5 font-mono text-[10px] text-zinc-500 break-all",children:e})]}),(0,i.jsxs)("div",{className:"relative min-w-0",children:[u(m,c.unit,c.kind),(0,i.jsx)("button",{onClick:()=>p(e),className:"absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"查看源代码",children:(0,i.jsx)(y,{})})]})]})},e))}return o};return(0,i.jsxs)("div",{className:"space-y-6 ".concat(l),children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2 border-b border-zinc-800 pb-4 overflow-x-auto",children:v.map(e=>{let t=N[e],a=e===r;return(0,i.jsxs)("button",{onClick:()=>o(e),className:"\n                flex items-center gap-2 px-3 py-2 rounded-lg transition-colors\n                ".concat(a?"bg-blue-600/20 border border-blue-500/50 text-blue-300":"hover:bg-zinc-800/50 text-zinc-400","\n              "),children:[(0,i.jsx)(f.JO,{name:t.iconName,size:18,alt:t.name}),(0,i.jsx)("span",{className:"text-sm font-medium",children:t.name})]},e)})}),(0,i.jsx)("div",{className:"space-y-4",children:0===m.length?(0,i.jsx)("div",{className:"text-center py-6 text-zinc-400",children:"本页暂无配置数据"}):m.map(e=>{let t=j[e],a=d[e]||{};return 0===Object.keys(a).length?null:(0,i.jsxs)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 overflow-hidden",children:[(0,i.jsx)("div",{className:"border-b border-zinc-800 px-4 py-2.5 bg-zinc-800/30",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(null==t?void 0:t.iconName)&&(0,i.jsx)(f.JO,{name:t.iconName,size:20,alt:(null==t?void 0:t.name)||e}),(0,i.jsx)("h3",{className:"text-sm font-semibold text-zinc-200",children:(null==t?void 0:t.name)||e})]})}),(0,i.jsx)("div",{className:"px-4 py-2 space-y-0",children:z(e,a)})]},e)})})]})}function w(){let{index:e,loading:t,error:a}=(0,m.Z)(),o=(0,l.usePathname)(),s=[];o&&o.startsWith("/filaments")&&(s=o.replace(/^\/filaments\/?/,"").split("/").filter(Boolean));let g=s[0]?r(s[0]):void 0,x=s[1]?r(s[1]):void 0,h=s[2]?r(s[2]):void 0,b=s[3]?r(s[3]):void 0,[v,I]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[y,w]=(0,n.useState)({selectedVendor:g,selectedType:x,selectedSeries:h});if((0,n.useEffect)(()=>{w({selectedVendor:g,selectedType:x,selectedSeries:h})},[g,x,h]),(0,n.useEffect)(()=>{if(b&&g&&x&&h&&e){N(!0);let t=(0,p.cp)(e,g,x,h).find(e=>e.displayName===b);t?(0,p.QX)("Filaments/".concat(g,"/").concat(x,"/").concat(h,"/").concat(t.fileName)).then(e=>{I(e),N(!1)}).catch(e=>{console.error(e),N(!1)}):N(!1)}},[b,g,x,h,e]),a)return(0,i.jsxs)(u,{children:[(0,i.jsx)(d,{}),(0,i.jsxs)("div",{className:"mt-8 rounded-md bg-red-900/20 p-4 text-red-200 border border-red-900/50",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"无法加载耗材数据"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-red-300/80",children:a.message})]})]});if(t||!e)return(0,i.jsxs)(u,{children:[(0,i.jsx)(d,{}),(0,i.jsx)("div",{className:"mt-8 text-zinc-500",children:"Loading filaments..."})]});if(g&&!x&&!h){let t=(0,p.yu)(e,g),a=y.selectedType||t[0],n=a?(0,p.gU)(e,g,a):[],l=y.selectedSeries||n[0],r=g&&a&&l?(0,p.cp)(e,g,a,l):[];return(0,i.jsxs)(u,{vendor:g,children:[(0,i.jsx)(d,{vendor:g}),(0,i.jsxs)("div",{className:"mt-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-zinc-50",children:g}),(0,i.jsx)("p",{className:"mt-2 text-zinc-400",children:"选择下方的类型和系列查看耗材配置"})]}),(0,i.jsxs)("div",{className:"mt-8 flex gap-6",children:[(0,i.jsxs)("nav",{className:"w-80 shrink-0 px-2 py-2 text-sm flex flex-col gap-6",children:[(0,i.jsxs)("div",{className:"sticky top-6",children:[(0,i.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,i.jsx)(f.JO,{name:"filament",size:14,alt:"Material Type"}),(0,i.jsx)("span",{children:"类型"})]}),(0,i.jsx)("div",{className:"space-y-1",children:t.length>0?t.map(t=>(0,i.jsx)("button",{onClick:()=>{let a=(0,p.gU)(e,g,t)[0];w({selectedVendor:g,selectedType:t,selectedSeries:a})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(t===a?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,i.jsx)("span",{className:"truncate",children:t})},t)):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用类型"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,i.jsx)(f.JO,{name:"filament",size:14,alt:"Product Series"}),(0,i.jsx)("span",{children:"系列"})]}),(0,i.jsx)("div",{className:"space-y-1",children:a?n.length>0?n.map(e=>(0,i.jsx)("button",{onClick:()=>{w({selectedVendor:g,selectedType:a,selectedSeries:e})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(e===l?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,i.jsx)("span",{className:"truncate",children:e})},e)):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用系列"}):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择类型"})})]})]}),(0,i.jsx)("div",{className:"flex-1 min-w-0",children:a?l?r.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-zinc-50 mb-1",children:[g," • ",a," • ",l]}),(0,i.jsxs)("p",{className:"text-xs text-zinc-400",children:["共 ",r.length," 个配置"]})]}),(0,i.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:r.map(e=>{var t;return(0,i.jsxs)(c,{href:"/filaments/".concat(g,"/").concat(a,"/").concat(l,"/").concat(e.displayName),className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4 hover:border-zinc-700 hover:bg-zinc-900/70 transition-colors",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-zinc-50",children:e.displayName.replace(/\s*@.*$/,"")||e.displayName}),(0,i.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:e.compatiblePrinters.length>0?e.compatiblePrinters.join(", "):(null===(t=e.displayName.match(/@\s*(.+)$/))||void 0===t?void 0:t[1])||""})]},e.fileName)})})]}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"暂无该系列的配置"})}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"请选择耗材系列"})}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"请先选择耗材类型"})})})]})]})}if(b&&g&&x&&h){let t=(0,p.cp)(e,g,x,h),a=t.find(e=>e.displayName===b);return(0,i.jsxs)(u,{vendor:g,type:x,series:h,children:[(0,i.jsx)(d,{vendor:g,type:x,series:h,profileLabel:b}),(0,i.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-6 md:grid-cols-[280px,1fr]",children:[(0,i.jsx)("div",{children:j||!v?(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4",children:(0,i.jsx)("div",{className:"text-sm text-zinc-500",children:"Loading..."})}):(0,i.jsx)(_,{vendor:g,type:x,series:h,fileName:(null==a?void 0:a.fileName)||b,profiles:t})}),(0,i.jsx)("div",{className:"min-w-0",children:j?(0,i.jsx)("div",{className:"text-zinc-500",children:"Loading profile..."}):v?(0,i.jsx)(z,{data:v&&"object"==typeof v&&!Array.isArray(v)?v:{},rawData:v}):(0,i.jsx)("div",{className:"text-zinc-500",children:"Profile not found"})})]})]})}(0,p.dH)(e);let L=y.selectedVendor,k=L?(0,p.yu)(e,L):[],P=y.selectedType,S=L&&P?(0,p.gU)(e,L,P):[],C=y.selectedSeries,R=L&&P&&C?(0,p.cp)(e,L,P,C):[];return(0,i.jsxs)(u,{vendor:L,type:P,series:C,children:[(0,i.jsx)(d,{vendor:g,type:x,series:h}),(0,i.jsxs)("div",{className:"mt-4 flex gap-6",children:[(0,i.jsxs)("nav",{className:"w-80 shrink-0 px-2 py-2 text-sm flex flex-col gap-6",children:[(0,i.jsxs)("div",{className:"sticky top-6",children:[(0,i.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,i.jsx)(f.JO,{name:"filament",size:14,alt:"Material Type"}),(0,i.jsx)("span",{children:"材料类型"})]}),(0,i.jsx)("div",{className:"space-y-1",children:L?k.length>0?k.map(t=>(0,i.jsx)("button",{onClick:()=>{let a=(0,p.gU)(e,L,t)[0];w({selectedVendor:L,selectedType:t,selectedSeries:a})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(t===P?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,i.jsx)("span",{className:"truncate",children:t})},t)):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用类型"}):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择品牌"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,i.jsx)(f.JO,{name:"filament",size:14,alt:"Product Series"}),(0,i.jsx)("span",{children:"产品系列"})]}),(0,i.jsx)("div",{className:"space-y-1",children:P?S.length>0?S.map(e=>(0,i.jsx)("button",{onClick:()=>{w({selectedVendor:L,selectedType:P,selectedSeries:e})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(e===C?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,i.jsx)("span",{className:"truncate",children:e})},e)):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用系列"}):(0,i.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择类型"})})]})]}),(0,i.jsx)("div",{className:"flex-1 min-w-0",children:L?P?C?R.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-zinc-50 mb-1",children:[L," • ",P," • ",C]}),(0,i.jsxs)("p",{className:"text-xs text-zinc-400",children:["共 ",R.length," 个配置"]})]}),(0,i.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:R.map(e=>{var t;return(0,i.jsxs)(c,{href:"/filaments/".concat(L,"/").concat(P,"/").concat(C,"/").concat(e.displayName),className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4 hover:border-zinc-700 hover:bg-zinc-900/70 transition-colors",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-zinc-50",children:e.displayName.replace(/\s*@.*$/,"")||e.displayName}),(0,i.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:e.compatiblePrinters.length>0?e.compatiblePrinters.join(", "):(null===(t=e.displayName.match(/@\s*(.+)$/))||void 0===t?void 0:t[1])||""})]},e.fileName)})})]}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"暂无该系列的配置"})}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"请在上方选择耗材系列"})}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"请在上方选择耗材类型"})}):(0,i.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,i.jsx)("p",{className:"text-zinc-400",children:"请先在左侧菜单选择品牌"})})})]})]})}},6760:function(e,t,a){"use strict";a.d(t,{to:function(){return s},JO:function(){return r},zL:function(){return o}});var i=a(7437),n=a(3145);let l={filament:"/icons/custom-gcode_filament.svg",cooling:"/icons/custom-gcode_cooling_fan.svg","setting-override":"/icons/custom-gcode_setting_override.svg",advanced:"/icons/custom-gcode_advanced.svg",multimaterial:"/icons/custom-gcode_multi_material.svg",dependencies:"/icons/advanced.svg",note:"/icons/custom-gcode_note.svg",quality:"/icons/custom-gcode_quality.svg",strength:"/icons/custom-gcode_strength.svg",speed:"/icons/custom-gcode_speed.svg",support:"/icons/custom-gcode_support.svg",other:"/icons/custom-gcode_other.svg","object-info":"/icons/custom-gcode_object-info.svg",gcode:"/icons/custom-gcode_gcode.svg",extruder:"/icons/custom-gcode_extruder.svg",motion:"/icons/custom-gcode_motion.svg",information:"/icons/param_information.svg","flow-ratio":"/icons/param_flow_ratio_and_pressure_advance.svg","chamber-temp":"/icons/param_chamber_temp.svg","extruder-temp":"/icons/param_extruder_temp.svg","bed-temp":"/icons/param_bed_temp.svg","volumetric-speed":"/icons/param_volumetric_speed.svg","cooling-fan":"/icons/param_cooling_fan.svg","cooling-aux-fan":"/icons/param_cooling_aux_fan.svg","cooling-part-fan":"/icons/param_cooling_part_fan.svg","cooling-specific-layer":"/icons/param_cooling_specific_layer.svg","cooling-exhaust":"/icons/param_cooling_exhaust.svg",retraction:"/icons/param_retraction.svg",ironing:"/icons/param_ironing.svg",tower:"/icons/param_tower.svg",toolchange:"/icons/param_toolchange.svg","toolchange-multi-extruder":"/icons/param_toolchange_multi_extruder.svg","dependencies-printers":"/icons/param_dependencies_printers.svg","dependencies-presets":"/icons/param_dependencies_presets.svg"};function r(e){let{name:t,size:a=24,alt:r=t,className:o=""}=e,s=l[t]||"/icons/custom-gcode_filament.svg";return(0,i.jsx)("div",{className:"inline-flex items-center justify-center ".concat(o),children:(0,i.jsx)(n.default,{src:s,alt:r,width:a,height:a,className:"inline-block",priority:!1})})}function o(e){let{name:t,label:a,active:n=!1,onClick:l,size:o=32}=e;return(0,i.jsxs)("button",{onClick:l,className:"\n        flex flex-col items-center gap-2 px-3 py-2 rounded\n        transition-colors duration-200\n        ".concat(n?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-600","\n      "),title:a,children:[(0,i.jsx)(r,{name:t,size:o,alt:a}),(0,i.jsx)("span",{className:"text-xs text-center whitespace-nowrap",children:a})]})}function s(e){let{iconName:t,title:a,size:n=20}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t&&(0,i.jsx)(r,{name:t,size:n,alt:a}),(0,i.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:a})]})}},6549:function(e,t,a){"use strict";a.d(t,{FilamentProvider:function(){return o},Z:function(){return s}});var i=a(7437),n=a(2265),l=a(9458);let r=(0,n.createContext)({index:null,loading:!0,error:null});function o(e){let{children:t}=e,[a,o]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(0,l.Be)().then(e=>{o(e),c(!1)}).catch(e=>{console.error(e),m(e),c(!1)})},[]),(0,i.jsx)(r.Provider,{value:{index:a,loading:s,error:d},children:t})}let s=()=>(0,n.useContext)(r)},9458:function(e,t,a){"use strict";a.d(t,{Be:function(){return n},QX:function(){return l},cp:function(){return c},dH:function(){return r},gU:function(){return s},yu:function(){return o}});let i=null;async function n(){if(i)return i;let e=await fetch("/api/github/tree");if(!e.ok){console.error("Failed to fetch tree:",e.status,e.statusText);let t=await e.json().catch(()=>({}));if(t.details)try{let e=JSON.parse(t.details);if(e.message&&e.message.includes("API rate limit exceeded"))throw Error("GitHub API rate limit exceeded. Please try again later or configure a GITHUB_TOKEN.");throw Error("GitHub API Error: ".concat(e.message||t.details))}catch(a){throw Error("Failed to fetch tree: ".concat(t.details||e.statusText))}throw Error("Failed to fetch tree: ".concat(e.statusText))}let t=await e.json(),a=new Set,n=new Map,l=new Map,r=new Map;for(let e of t.tree){if(!e.path.startsWith("Filaments/")||"blob"!==e.type||!e.path.endsWith(".json"))continue;let t=e.path.split("/");if(t.length<5)continue;let i=t[1],o=t[2],s=t[3],c=t[4];a.add(i),n.has(i)||n.set(i,new Set),n.get(i).add(o);let d="".concat(i,"|||").concat(o);l.has(d)||l.set(d,new Set),l.get(d).add(s);let m="".concat(i,"|||").concat(o,"|||").concat(s);r.has(m)||r.set(m,[]);let p=c.replace(".json","");r.get(m).push({vendor:i,type:o,series:s,fileName:c,displayName:p,compatiblePrinters:[]})}let o=(e,t)=>e.localeCompare(t,"zh-Hans-CN",{numeric:!0}),s=Array.from(a).sort(o),c=new Map;n.forEach((e,t)=>{c.set(t,Array.from(e).sort(o))});let d=new Map;return l.forEach((e,t)=>{d.set(t,Array.from(e).sort(o))}),r.forEach(e=>{e.sort((e,t)=>o(e.displayName,t.displayName))}),i={vendors:s,typesByVendor:c,seriesByVendorType:d,profilesByVendorTypeSeries:r}}async function l(e){let t=await fetch("/api/github/content?path=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch profile content");return t.json()}function r(e){return e.vendors}function o(e,t){var a;return null!==(a=e.typesByVendor.get(t))&&void 0!==a?a:[]}function s(e,t,a){var i;return null!==(i=e.seriesByVendorType.get("".concat(t,"|||").concat(a)))&&void 0!==i?i:[]}function c(e,t,a,i){var n;return null!==(n=e.profilesByVendorTypeSeries.get("".concat(t,"|||").concat(a,"|||").concat(i)))&&void 0!==n?n:[]}}},function(e){e.O(0,[972,145,971,117,744],function(){return e(e.s=5795)}),_N_E=e.O()}]);