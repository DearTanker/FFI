(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{5795:function(e,t,i){Promise.resolve().then(i.bind(i,1268))},1268:function(e,t,i){"use strict";i.d(t,{default:function(){return R}});var a=i(7437),n=i(2265),l=i(5475);function r(e){try{return decodeURIComponent(e)}catch(t){return e}}var o=i(2972),s=i.n(o);function c(e){let{href:t,...i}=e;return(0,a.jsx)(s(),{href:function(e){if(!e.startsWith("/")||"/"===e||e.startsWith("/_next/"))return e;let t=e.indexOf("#"),i=t>=0?e.slice(0,t):e,a=t>=0?e.slice(t):"",n=i.indexOf("?"),l=n>=0?i.slice(0,n):i,r=n>=0?i.slice(n):"";return l.endsWith("/")?l+r+a:l+"/"+r+a}(t),...i})}function d(e){let t=[{label:"耗材",href:"/filaments"}];return e.vendor&&t.push({label:e.vendor,href:"/filaments/".concat(e.vendor)}),e.vendor&&e.type&&t.push({label:e.type,href:"/filaments/".concat(e.vendor,"/").concat(e.type)}),e.vendor&&e.type&&e.series&&t.push({label:e.series,href:"/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series)}),e.profileLabel&&t.push({label:e.profileLabel}),(0,a.jsx)("div",{className:"text-sm text-zinc-300",children:t.map((e,t)=>{let i=0===t?null:(0,a.jsx)("span",{className:"px-2 text-zinc-600",children:"/"}),n=e.href?(0,a.jsx)(c,{href:e.href,className:"hover:text-zinc-50",children:e.label}):(0,a.jsx)("span",{className:"text-zinc-50",children:e.label});return(0,a.jsxs)("span",{children:[i,n]},"".concat(e.label,"-").concat(t))})})}var m=i(6549),p=i(9458);function _(e){let{index:t,loading:i,error:n}=(0,m.Z)();if(n)return(0,a.jsxs)("aside",{className:"w-72 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-red-400",children:"加载失败"}),(0,a.jsx)("div",{className:"mt-1 text-xs text-zinc-500",children:"请检查网络或刷新重试"})]}),(0,a.jsx)("div",{className:"p-4 text-xs text-red-400/80 break-all",children:n.message})]});if(i||!t)return(0,a.jsx)("aside",{className:"w-72 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:(0,a.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"耗材丝设置"}),(0,a.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:"正在加载..."})]})});let l=(0,p.dH)(t);return(0,a.jsxs)("aside",{className:"w-72 shrink-0 border-r border-zinc-800 bg-zinc-900/40 overflow-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 border-b border-zinc-800 bg-zinc-950/40 px-4 py-3 backdrop-blur z-10",children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"FDM 3D 打印耗材品牌"}),(0,a.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:"耗材 → 耗材类型 → 耗材系列 → 耗材丝设置"})]}),(0,a.jsxs)("nav",{className:"px-2 py-2 text-sm",children:[(0,a.jsx)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400",children:"品牌"}),(0,a.jsx)("div",{className:"space-y-1",children:l.map(t=>{let i=t===e.vendor;return(0,a.jsx)(c,{href:"/filaments/".concat(t),className:["flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60",i?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"].join(" "),children:(0,a.jsx)("span",{className:"truncate",children:t})},t)})})]})]})}function f(e){return(0,a.jsx)("div",{className:"flex min-h-screen bg-zinc-950",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-7xl flex",children:[(0,a.jsx)(_,{vendor:e.vendor,type:e.type,series:e.series}),(0,a.jsx)("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:e.children})]})})}var u=i(6760);function g(e){return(0,a.jsxs)("div",{className:"rounded-md border border-zinc-800 bg-zinc-950/30 px-3 py-2",children:[(0,a.jsx)("div",{className:"text-[11px] text-zinc-400",children:e.label}),(0,a.jsx)("div",{className:"mt-1 truncate text-sm font-medium text-zinc-50",children:e.value||"-"})]})}function x(e){return e.replace(/\s*\n\s*/g," \xb7 ").trim()}function b(e){let t=e.field.value,i=e.field.kind,n=e.field.unit,l=(e,t,i)=>{if("bool"===t){let t="1"===x(e).toLowerCase()||"true"===x(e).toLowerCase()||"yes"===x(e).toLowerCase();return(0,a.jsx)("div",{className:"flex h-9 items-center",children:(0,a.jsx)("input",{type:"checkbox",disabled:!0,checked:t,className:"h-4 w-4 rounded border-zinc-700 bg-zinc-950/40 text-emerald-500 focus:ring-emerald-500/20"})})}return"select"===t?(0,a.jsxs)("div",{className:"flex h-9 w-full items-center justify-between rounded-md border border-zinc-700 bg-zinc-950/40 px-3",children:[(0,a.jsx)("span",{className:"text-sm text-zinc-100",children:x(e)||"无"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-zinc-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}):"multiline"===t?(0,a.jsx)("textarea",{readOnly:!0,value:e,className:"min-h-[120px] w-full resize-y rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 font-mono text-[12px] text-zinc-100 focus:outline-none"}):(0,a.jsxs)("div",{className:"relative flex h-9 w-full items-center rounded-md border border-zinc-700 bg-zinc-950/40 px-3 focus-within:border-zinc-500",children:[(0,a.jsx)("input",{readOnly:!0,value:x(e),className:["h-full w-full bg-transparent text-sm text-zinc-100 focus:outline-none","number"===t?"text-right":""].join(" ")}),i&&(0,a.jsx)("div",{className:"ml-2 shrink-0 text-xs text-zinc-500 select-none",children:i})]})};return(0,a.jsxs)("div",{className:"grid grid-cols-[200px,1fr] items-start gap-4 py-1.5",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("div",{className:"truncate text-xs text-zinc-200",children:e.field.label}),e.field.label!==e.field.key?(0,a.jsx)("div",{className:"mt-0.5 flex flex-col gap-0.5 font-mono text-[10px] text-zinc-500",children:(0,a.jsx)("div",{className:"truncate",children:e.field.key})}):null]}),e.field.pair?(0,a.jsxs)("div",{className:"grid min-w-0 grid-cols-2 items-start gap-3",children:[(0,a.jsxs)("div",{className:"flex min-w-0 items-start gap-2",children:[(0,a.jsx)("div",{className:"mt-2 shrink-0 text-[11px] text-zinc-400",children:e.field.pair.leftLabel}),l(t,i,void 0)]}),(0,a.jsxs)("div",{className:"flex min-w-0 items-start gap-2",children:[(0,a.jsx)("div",{className:"mt-2 shrink-0 text-[11px] text-zinc-400",children:e.field.pair.rightLabel}),l(e.field.pair.rightValue,i,n)]})]}):(0,a.jsx)("div",{className:"flex min-w-0 items-start gap-2",children:l(t,i,n)})]})}function h(e){return 0===e.fields.length?null:(0,a.jsxs)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40",children:[(0,a.jsx)("div",{className:"border-b border-zinc-800 px-4 py-2 text-xs font-semibold text-zinc-200",children:e.title}),(0,a.jsx)("div",{className:"px-4 py-2",children:e.fields.map(e=>(0,a.jsx)(b,{field:e},e.key))})]})}function v(e){var t,i;let[l,r]=(0,n.useState)(null!==(i=null===(t=e.tabs[0])||void 0===t?void 0:t.id)&&void 0!==i?i:"filament"),[o,s]=(0,n.useState)(""),c=(0,n.useMemo)(()=>{var t;return null!==(t=e.tabs.find(e=>e.id===l))&&void 0!==t?t:e.tabs[0]},[e.tabs,l]),d=(0,n.useMemo)(()=>{var e,t;let i=o.trim().toLowerCase();return i?(null!==(t=null==c?void 0:c.sections)&&void 0!==t?t:[]).map(e=>({...e,fields:e.fields.filter(e=>"".concat(e.key," ").concat(e.label," ").concat(e.value).toLowerCase().includes(i))})).filter(e=>e.fields.length>0):null!==(e=null==c?void 0:c.sections)&&void 0!==e?e:[]},[c,o]);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(g,{label:"喷嘴温度",value:[e.summary.nozzleTempInitial,e.summary.nozzleTemp].filter(Boolean).join(" → ")}),(0,a.jsx)(g,{label:"热床温度",value:[e.summary.bedTempInitial,e.summary.bedTemp].filter(Boolean).join(" → ")}),(0,a.jsx)(g,{label:"流量比 / 体积流量",value:[e.summary.flowRatio,e.summary.maxVolumetricSpeed].filter(Boolean).join(" \xb7 ")}),(0,a.jsx)(g,{label:"直径 / 密度 / 成本",value:[e.summary.diameter,e.summary.density,e.summary.cost].filter(Boolean).join(" \xb7 ")})]}),(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-zinc-800 px-4 py-2",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tabs.map(e=>{let t=e.id===l;return(0,a.jsx)("button",{type:"button",onClick:()=>r(e.id),className:["rounded-md px-3 py-1.5 text-xs",t?"bg-zinc-800 text-zinc-50":"text-zinc-300 hover:bg-zinc-800/60"].join(" "),children:e.label},e.id)})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{value:o,onChange:e=>s(e.target.value),placeholder:"搜索",className:"h-9 w-[260px] max-w-full rounded-md border border-zinc-700 bg-zinc-950/40 px-3 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-emerald-500 focus:outline-none"}),(0,a.jsx)("div",{className:"shrink-0 text-xs text-zinc-500",children:d.reduce((e,t)=>e+t.fields.length,0)})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[d.map(e=>(0,a.jsx)(h,{title:e.label,fields:e.fields},e.id)),0===d.length?(0,a.jsx)("div",{className:"text-center text-sm text-zinc-500",children:"无匹配项"}):null]})]})}function y(e){let[t,i]=(0,n.useState)("__all__"),[l,r]=(0,n.useState)(e.profiles);(0,n.useEffect)(()=>{(async()=>{r(await Promise.all(e.profiles.map(async t=>{if(t.compatiblePrinters.length>0)return t;try{let i="Filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series,"/").concat(t.fileName),a=await fetch("/api/github/content?path=".concat(encodeURIComponent(i)));if(!a.ok)return t;let n=(await a.json()).compatible_printers,l=Array.isArray(n)?n.map(e=>"string"==typeof e?e:"").filter(Boolean):[];return{...t,compatiblePrinters:l}}catch(e){return console.error("Failed to fetch printers for ".concat(t.fileName,":"),e),t}})))})()},[e.vendor,e.type,e.series,e.profiles]);let o=(0,n.useMemo)(()=>[...new Set(l.flatMap(e=>{var t;return null!==(t=e.compatiblePrinters)&&void 0!==t?t:[]}).filter(Boolean))].sort((e,t)=>e.localeCompare(t,"zh-Hans-CN",{numeric:!0})),[l]),s=(0,n.useMemo)(()=>{if("__all__"===t)return l;let i=l.filter(e=>{var i;return(null!==(i=e.compatiblePrinters)&&void 0!==i?i:[]).includes(t)}),a=l.find(t=>t.fileName===e.fileName);return!a||i.some(e=>e.fileName===a.fileName)?i:[a,...i]},[t,e.fileName,l]);return(0,a.jsxs)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40",children:[(0,a.jsxs)("div",{className:"border-b border-zinc-800 px-4 py-3",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-zinc-50",children:"耗材丝设置"}),(0,a.jsxs)("div",{className:"mt-1 flex flex-wrap items-center justify-between gap-2 text-xs text-zinc-400",children:[(0,a.jsx)(c,{href:"/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series),className:"text-emerald-400 hover:text-emerald-300",children:"返回列表"}),(0,a.jsxs)("span",{children:[l.length," 个配置"]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"shrink-0 text-xs text-zinc-400",children:"兼容打印机"}),(0,a.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:"h-9 w-full rounded-md border border-zinc-700 bg-zinc-900 px-2 text-sm text-zinc-100 focus:border-emerald-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"__all__",children:"全部"}),o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("div",{className:"shrink-0 text-xs text-zinc-500",children:s.length})]})]}),(0,a.jsx)("div",{className:"max-h-[70vh] overflow-auto p-2",children:s.map(t=>{let i="/filaments/".concat(e.vendor,"/").concat(e.type,"/").concat(e.series,"/").concat(t.fileName),n=t.fileName===e.fileName,l=t.compatiblePrinters.length>0?t.compatiblePrinters.join(" \xb7 "):t.fileName;return(0,a.jsxs)(c,{href:i,className:["block rounded-md px-2 py-2 hover:bg-zinc-800/60",n?"bg-zinc-800/80":""].join(" "),children:[(0,a.jsx)("div",{className:"truncate text-sm font-medium text-zinc-50",children:t.displayName}),(0,a.jsx)("div",{className:"mt-1 truncate text-xs text-zinc-400",children:l})]},t.fileName)})})]})}let z={filament_type:{pageId:"filament-basic",groupId:"information",label:"类型"},filament_vendor:{pageId:"filament-basic",groupId:"information",label:"供应商"},filament_soluble:{pageId:"filament-basic",groupId:"information",label:"可溶性材料",kind:"bool"},filament_is_support:{pageId:"filament-basic",groupId:"information",label:"支撑材料",kind:"bool"},filament_change_length:{pageId:"filament-basic",groupId:"information",label:"耗材冲击长度",unit:"mm"},required_nozzle_HRC:{pageId:"filament-basic",groupId:"information",label:"喷嘴硬度要求"},default_filament_colour:{pageId:"filament-basic",groupId:"information",label:"默认颜色"},filament_diameter:{pageId:"filament-basic",groupId:"information",label:"直径",unit:"mm"},filament_adhesiveness_category:{pageId:"filament-basic",groupId:"information",label:"粘性分类"},filament_density:{pageId:"filament-basic",groupId:"information",label:"密度",unit:"克/立方厘米"},filament_shrink:{pageId:"filament-basic",groupId:"information",label:"收缩率（XY）",unit:"%"},filament_shrinkage_compensation_z:{pageId:"filament-basic",groupId:"information",label:"收缩率（Z）",unit:"%"},filament_cost:{pageId:"filament-basic",groupId:"information",label:"价格",unit:"money/kg"},temperature_vitrification:{pageId:"filament-basic",groupId:"information",label:"软化温度",unit:"℃"},idle_temperature:{pageId:"filament-basic",groupId:"information",label:"待机温度",unit:"℃"},nozzle_temperature_range_low:{pageId:"filament-basic",groupId:"information",label:"建议喷嘴温度（最小）",unit:"℃",paired:{pairKey:"nozzle_temp_range",pairLabel:"建议喷嘴温度",pairPosition:"left",pairLeftLabel:"最小",pairRightLabel:"最大"}},nozzle_temperature_range_high:{pageId:"filament-basic",groupId:"information",label:"建议喷嘴温度（最大）",unit:"℃",paired:{pairKey:"nozzle_temp_range",pairLabel:"建议喷嘴温度",pairPosition:"right",pairLeftLabel:"最小",pairRightLabel:"最大"}},filament_flow_ratio:{pageId:"filament-basic",groupId:"flow-ratio",label:"流量比例"},enable_pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"启用压力提前",kind:"bool"},pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"压力提前"},adaptive_pressure_advance:{pageId:"filament-basic",groupId:"flow-ratio",label:"启用自适应压力提前（试验）",kind:"bool"},activate_chamber_temp_control:{pageId:"filament-basic",groupId:"chamber-temp",label:"激活温度控制",kind:"bool"},nozzle_temperature_initial_layer:{pageId:"filament-basic",groupId:"extruder-temp",label:"喷嘴（首层）",unit:"℃",paired:{pairKey:"nozzle_temp",pairLabel:"喷嘴",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},nozzle_temperature:{pageId:"filament-basic",groupId:"extruder-temp",label:"喷嘴（其它层）",unit:"℃",paired:{pairKey:"nozzle_temp",pairLabel:"喷嘴",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},supertack_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印板（超强粘附）首层",unit:"℃",paired:{pairKey:"supertack_plate",pairLabel:"低温打印板（超强粘附）",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},supertack_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印板（超强粘附）其它层",unit:"℃",paired:{pairKey:"supertack_plate",pairLabel:"低温打印板（超强粘附）",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},cool_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印热床首层",unit:"℃",paired:{pairKey:"cool_plate",pairLabel:"低温打印热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},cool_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"低温打印热床其它层",unit:"℃",paired:{pairKey:"cool_plate",pairLabel:"低温打印热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_cool_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理的低温打印床首层",unit:"℃",paired:{pairKey:"textured_cool_plate",pairLabel:"纹理的低温打印床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_cool_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理的低温打印床其它层",unit:"℃",paired:{pairKey:"textured_cool_plate",pairLabel:"纹理的低温打印床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},eng_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"工程材料热床首层",unit:"℃",paired:{pairKey:"eng_plate",pairLabel:"工程材料热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},eng_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"工程材料热床其它层",unit:"℃",paired:{pairKey:"eng_plate",pairLabel:"工程材料热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},hot_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"光滑PEI板/高温板首层",unit:"℃",paired:{pairKey:"hot_plate",pairLabel:"光滑PEI板/高温板",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},hot_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"光滑PEI板/高温板其它层",unit:"℃",paired:{pairKey:"hot_plate",pairLabel:"光滑PEI板/高温板",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_plate_temp_initial_layer:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理PEI热床首层",unit:"℃",paired:{pairKey:"textured_plate",pairLabel:"纹理PEI热床",pairPosition:"left",pairLeftLabel:"首层",pairRightLabel:"其它层"}},textured_plate_temp:{pageId:"filament-basic",groupId:"bed-temp",label:"纹理PEI热床其它层",unit:"℃",paired:{pairKey:"textured_plate",pairLabel:"纹理PEI热床",pairPosition:"right",pairLeftLabel:"首层",pairRightLabel:"其它层"}},filament_adaptive_volumetric_speed:{pageId:"filament-basic",groupId:"volumetric-speed",label:"自适应体积速度",kind:"bool"},filament_max_volumetric_speed:{pageId:"filament-basic",groupId:"volumetric-speed",label:"最大体积速度",unit:"毫米立方/秒"},first_x_layer_fan_speed:{pageId:"filament-cooling",groupId:"cooling-fan",label:"初始层风扇速度",unit:"%"},fan_min_speed:{pageId:"filament-cooling",groupId:"cooling-fan",label:"最小风扇速度",unit:"%"},fan_max_speed:{pageId:"filament-cooling",groupId:"cooling-fan",label:"最大风扇速度",unit:"%"},full_fan_speed_layer:{pageId:"filament-cooling",groupId:"cooling-fan",label:"满速风扇在第 X 层"},slow_down_for_layer_cooling:{pageId:"filament-cooling",groupId:"cooling-fan",label:"启用冷却减速",kind:"bool"},slow_down_layer_time:{pageId:"filament-cooling",groupId:"cooling-fan",label:"冷却层时间",unit:"s"},slow_down_min_speed:{pageId:"filament-cooling",groupId:"cooling-fan",label:"最小打印速度",unit:"mm/s"},reduce_fan_stop_start_freq:{pageId:"filament-cooling",groupId:"cooling-fan",label:"保持风扇常开",kind:"bool"},no_slow_down_for_cooling_on_outwalls:{pageId:"filament-cooling",groupId:"cooling-fan",label:"不减速外墙",kind:"bool"},fan_cooling_layer_time:{pageId:"filament-cooling",groupId:"cooling-fan",label:"风扇冷却层时间",unit:"s"},additional_cooling_fan_speed:{pageId:"filament-cooling",groupId:"cooling-aux-fan",label:"辅助冷却风扇速度",unit:"%"},pre_start_fan_time:{pageId:"filament-cooling",groupId:"cooling-part-fan",label:"打印前启动风扇"},overhang_fan_speed:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"悬垂/桥接风扇速度",unit:"%"},enable_overhang_bridge_fan:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"启用悬垂/桥接风扇",kind:"bool"},overhang_fan_threshold:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"悬垂/桥接风扇激活阈值"},overhanging_threshold_participating_cooling:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"悬垂和部件冷却参与阈值"},close_fan_the_first_x_layers:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"前几层关闭风扇"},filament_enable_overhang_speed:{pageId:"filament-cooling",groupId:"cooling-specific-layer",label:"启用悬垂速度",kind:"bool"},during_print_exhaust_fan_speed:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"打印中排风扇速度",unit:"%"},complete_print_exhaust_fan_speed:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"打印完成排风扇速度",unit:"%"},activate_air_filtration:{pageId:"filament-cooling",groupId:"cooling-exhaust",label:"启用空气过滤",kind:"bool"},filament_retraction_length:{pageId:"filament-overrides",groupId:"retraction",label:"回抽长度",unit:"mm"},filament_retraction_length_nc:{pageId:"filament-overrides",groupId:"retraction",label:"回抽长度 (无切换)",unit:"mm"},filament_retraction_speed:{pageId:"filament-overrides",groupId:"retraction",label:"回抽速度",unit:"mm/s"},filament_deretraction_speed:{pageId:"filament-overrides",groupId:"retraction",label:"反回抽速度",unit:"mm/s"},filament_z_hop:{pageId:"filament-overrides",groupId:"retraction",label:"Z升降高度",unit:"mm"},filament_z_hop_types:{pageId:"filament-overrides",groupId:"retraction",label:"Z升降类型"},filament_retract_when_changing_layer:{pageId:"filament-overrides",groupId:"retraction",label:"仅在高度以上提Z",unit:"mm"},filament_retraction_minimum_travel:{pageId:"filament-overrides",groupId:"retraction",label:"仅在高度以下提Z",unit:"mm"},filament_wipe:{pageId:"filament-overrides",groupId:"retraction",label:"回抽撤销",kind:"bool"},filament_wipe_distance:{pageId:"filament-overrides",groupId:"retraction",label:"回抽撤销距离",unit:"mm"},filament_retract_before_wipe:{pageId:"filament-overrides",groupId:"retraction",label:"切料回抽 (实验)",unit:"%"},filament_change_length_nc:{pageId:"filament-overrides",groupId:"retraction",label:"回抽距离 (无切换)",unit:"mm"},filament_retraction_distances_when_cut:{pageId:"filament-overrides",groupId:"retraction",label:"切料回抽距离",unit:"mm"},filament_long_retractions_when_cut:{pageId:"filament-overrides",groupId:"retraction",label:"长回抽",kind:"bool"},filament_retract_restart_extra:{pageId:"filament-overrides",groupId:"retraction",label:"回抽恢复补偿",unit:"mm"},filament_ironing:{pageId:"filament-overrides",groupId:"ironing",label:"启用光平",kind:"bool"},filament_ironing_speed:{pageId:"filament-overrides",groupId:"ironing",label:"光平速度",unit:"mm/s"},filament_start_gcode:{pageId:"filament-advanced",groupId:"gcode-start",label:"耗材启动 G-code",kind:"multiline"},filament_end_gcode:{pageId:"filament-advanced",groupId:"gcode-end",label:"耗材结束 G-code",kind:"multiline"},filament_tower_interface_pre_extrusion_dist:{pageId:"filament-multimaterial",groupId:"tower-params",label:"接触层预挤出距离",unit:"mm"},filament_tower_interface_pre_extrusion_length:{pageId:"filament-multimaterial",groupId:"tower-params",label:"接触层预挤出长度",unit:"mm"},filament_tower_ironing_area:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔熨烫面积",unit:"mm\xb2"},filament_tower_interface_purge_volume:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔冲刷长度",unit:"mm"},filament_tower_interface_print_temp:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔打印温度",unit:"\xb0C"},filament_cooling_before_tower:{pageId:"filament-multimaterial",groupId:"tower-params",label:"擦拭塔前冷却"},counter_coef_1:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"单挤出头备选 1",unit:"mm\xb3"},counter_coef_2:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"单挤出头备选 2",unit:"mm\xb3"},counter_coef_3:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"单挤出头备选 3",unit:"mm\xb3"},counter_limit_min:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"单挤出头备选最小值",unit:"mm\xb3"},counter_limit_max:{pageId:"filament-multimaterial",groupId:"toolchange-single",label:"单挤出头备选最大值",unit:"mm\xb3"},hole_coef_1:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多挤出头孔 1",unit:"mm\xb3"},hole_coef_2:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多挤出头孔 2",unit:"mm\xb3"},hole_coef_3:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多挤出头孔 3",unit:"mm\xb3"},hole_limit_min:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多挤出头孔最小值",unit:"mm\xb3"},hole_limit_max:{pageId:"filament-multimaterial",groupId:"toolchange-multi",label:"多挤出头孔最大值",unit:"mm\xb3"},compatible_printers:{pageId:"filament-dependencies",groupId:"compatible-printers",label:"兼容打印机"},filament_notes:{pageId:"filament-notes",groupId:"notes",label:"备注",kind:"multiline"}};function j(e){let t=z[e];return t?{label:t.label,unit:t.unit,kind:t.kind,paired:t.paired}:null}let N={information:["filament_type","filament_vendor","filament_soluble","filament_is_support","filament_change_length","required_nozzle_HRC","default_filament_colour","filament_diameter","filament_adhesiveness_category","filament_density","filament_shrink","filament_shrinkage_compensation_z","filament_cost","temperature_vitrification","idle_temperature","nozzle_temperature_range_low","nozzle_temperature_range_high"],"flow-ratio":["filament_flow_ratio","enable_pressure_advance","pressure_advance","adaptive_pressure_advance"],"chamber-temp":["activate_chamber_temp_control"],"extruder-temp":["nozzle_temperature_initial_layer","nozzle_temperature"],"bed-temp":["supertack_plate_temp_initial_layer","supertack_plate_temp","cool_plate_temp_initial_layer","cool_plate_temp","textured_cool_plate_temp_initial_layer","textured_cool_plate_temp","eng_plate_temp_initial_layer","eng_plate_temp","hot_plate_temp_initial_layer","hot_plate_temp","textured_plate_temp_initial_layer","textured_plate_temp"],"volumetric-speed":["filament_adaptive_volumetric_speed","filament_max_volumetric_speed"]},I=["filament-basic","filament-cooling","filament-overrides","filament-advanced","filament-multimaterial","filament-dependencies","filament-notes"],w={"filament-basic":["information","flow-ratio","chamber-temp","extruder-temp","bed-temp","volumetric-speed"],"filament-cooling":["cooling-fan","cooling-aux-fan","cooling-part-fan","cooling-specific-layer","cooling-exhaust"],"filament-overrides":["retraction","ironing"],"filament-advanced":["gcode-start","gcode-end"],"filament-multimaterial":["tower-params","multi-filament","toolchange-single","toolchange-multi"],"filament-dependencies":["compatible-printers","compatible-presets"],"filament-notes":["notes"]},L={information:{name:"基础信息",iconName:"information"},"flow-ratio":{name:"流量和压力提前",iconName:"flow-ratio"},"chamber-temp":{name:"打印仓温度",iconName:"chamber-temp"},"extruder-temp":{name:"打印温度",iconName:"extruder-temp"},"bed-temp":{name:"床温",iconName:"bed-temp"},"volumetric-speed":{name:"体积速度限制",iconName:"volumetric-speed"},"cooling-fan":{name:"冷却风扇设置",iconName:"cooling-fan"},"cooling-aux-fan":{name:"辅助风扇",iconName:"cooling-aux-fan"},"cooling-part-fan":{name:"零件冷却风扇",iconName:"cooling-part-fan"},"cooling-specific-layer":{name:"层冷却",iconName:"cooling-specific-layer"},"cooling-exhaust":{name:"排气控制",iconName:"cooling-exhaust"},retraction:{name:"回抽",iconName:"retraction"},ironing:{name:"光平",iconName:"ironing"},"gcode-start":{name:"耗材启动 G-code",iconName:"gcode"},"gcode-end":{name:"耗材结束 G-code",iconName:"gcode"},"tower-params":{name:"擦拭塔参数",iconName:"tower"},"multi-filament":{name:"多耗材",iconName:"multimaterial"},"toolchange-single":{name:"单挤出头工具更换参数",iconName:"toolchange"},"toolchange-multi":{name:"多挤出头工具更换参数",iconName:"toolchange-multi-extruder"},"compatible-printers":{name:"兼容打印机",iconName:"dependencies-printers"},"compatible-presets":{name:"兼容工艺配置文件",iconName:"dependencies-presets"},notes:{name:"备注",iconName:"note"}},k={"filament-basic":{name:"耗材",iconName:"filament"},"filament-cooling":{name:"冷却",iconName:"cooling"},"filament-overrides":{name:"设置覆盖",iconName:"setting-override"},"filament-advanced":{name:"高级",iconName:"advanced"},"filament-multimaterial":{name:"多耗材",iconName:"multimaterial"},"filament-dependencies":{name:"依赖关系",iconName:"dependencies"},"filament-notes":{name:"注释",iconName:"note"}},P=()=>(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})});function C(e){let{data:t,rawData:i,className:l=""}=e,[r,o]=(0,n.useState)(I[0]),[s,c]=(0,n.useState)(new Set),d=(0,n.useMemo)(()=>(function(e,t){let i={};for(let[a,n]of Object.entries(e)){let e=z[a];e&&e.pageId===t&&(i[e.groupId]||(i[e.groupId]={}),i[e.groupId][a]||(i[e.groupId][a]=[]),i[e.groupId][a].push({key:a,label:e.label,value:n,unit:e.unit,kind:e.kind,paired:e.paired}))}return i})(t,r),[t,r]);k[r];let m=w[r]||[],p=e=>{let t=new Set(s);t.has(e)?t.delete(e):t.add(e),c(t)},_=e=>Array.isArray(e)?1===e.length?String(e[0]):JSON.stringify(e):String(e),f=(e,t,i)=>{if("bool"===i){let t="1"===e||"true"===e.toLowerCase();return(0,a.jsx)("div",{className:"flex h-8 items-center rounded-md border border-zinc-700 bg-zinc-950/40 px-3",children:(0,a.jsx)("input",{type:"checkbox",disabled:!0,checked:t,className:"h-4 w-4 rounded border-zinc-700 bg-zinc-950/40 text-emerald-500 focus:ring-emerald-500/20"})})}return"multiline"===i?(0,a.jsx)("textarea",{readOnly:!0,value:e,className:"min-h-[80px] w-full resize-y rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 font-mono text-[12px] text-zinc-100 focus:outline-none"}):(0,a.jsxs)("div",{className:"flex items-center h-8 rounded-md border border-zinc-700 bg-zinc-950/40 px-3 overflow-hidden",children:[(0,a.jsx)("span",{className:"text-sm text-zinc-100 truncate",children:e}),t&&(0,a.jsx)("span",{className:"text-xs text-zinc-500 select-none ml-1 shrink-0",children:t})]})},g=(e,t,i)=>{let n=JSON.stringify({[e]:t},null,2);return(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("textarea",{readOnly:!0,value:n,className:"min-h-[80px] w-full resize-y rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 pr-10 font-mono text-[12px] text-blue-400 focus:outline-none"}),(0,a.jsx)("button",{onClick:i,className:"absolute right-2 top-2 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"返回数值",children:(0,a.jsx)(P,{})})]})},x=(e,n,l)=>{let r=i?i[e]:t[e],o=i?i[n]:t[n],s=JSON.stringify({[e]:r,[n]:o},null,2);return(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("textarea",{readOnly:!0,value:s,className:"min-h-[80px] w-full resize-y rounded-md border border-zinc-700 bg-zinc-950/40 px-3 py-2 pr-10 font-mono text-[12px] text-blue-400 focus:outline-none"}),(0,a.jsx)("button",{onClick:l,className:"absolute right-2 top-2 text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30",title:"返回数值",children:(0,a.jsx)(P,{})})]})},b=(e,t)=>{let n=N[e],l=n?n.filter(e=>t[e]):Object.keys(t),r=new Set,o=[];for(let e of l){let n=t[e],c=Array.isArray(n)?n[0]:n;if(!c)continue;let d=j(e),m=_(c.value);if(""===m||"undefined"===m||"null"===m)continue;if(c.paired){let i=c.paired.pairKey;if(r.has(i))continue;r.add(i);let n="left"===c.paired.pairPosition,d=n?e:l.find(e=>{var t,a;let n=j(e);return(null==n?void 0:null===(t=n.paired)||void 0===t?void 0:t.pairKey)===i&&(null==n?void 0:null===(a=n.paired)||void 0===a?void 0:a.pairPosition)==="left"}),m=n?l.find(e=>{var t,a;let n=j(e);return(null==n?void 0:null===(t=n.paired)||void 0===t?void 0:t.pairKey)===i&&(null==n?void 0:null===(a=n.paired)||void 0===a?void 0:a.pairPosition)==="right"}):e;if(!d||!m)continue;let u=Array.isArray(t[d])?t[d][0]:t[d],g=Array.isArray(t[m])?t[m][0]:t[m];if(!u||!g)continue;let b=_(u.value),h=_(g.value),v=s.has(i);o.push((0,a.jsx)("div",{className:"py-1.5",children:v?(0,a.jsxs)("div",{className:"grid grid-cols-[160px,1fr] items-start gap-4",children:[(0,a.jsx)("div",{className:"min-w-0 pt-1",children:(0,a.jsx)("div",{className:"text-xs text-zinc-200",children:c.paired.pairLabel})}),(0,a.jsx)("div",{className:"min-w-0",children:x(d,m,()=>p(i))})]}):(0,a.jsxs)("div",{className:"grid grid-cols-[160px,auto,1fr,auto,1fr,auto] items-center gap-2",children:[(0,a.jsx)("div",{className:"min-w-0",children:(0,a.jsx)("div",{className:"truncate text-xs text-zinc-200",children:c.paired.pairLabel})}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 shrink-0",children:c.paired.pairLeftLabel}),(0,a.jsx)("div",{className:"min-w-0",children:f(b,u.unit,u.kind)}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 shrink-0",children:c.paired.pairRightLabel}),(0,a.jsx)("div",{className:"min-w-0",children:f(h,g.unit,g.kind)}),(0,a.jsx)("button",{onClick:()=>p(i),className:"text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30 shrink-0",title:"查看源代码",children:(0,a.jsx)(P,{})})]})},i));continue}let u=s.has(e),b=i?i[e]:c.value;o.push((0,a.jsx)("div",{className:"py-1.5",children:u?(0,a.jsxs)("div",{className:"grid grid-cols-[160px,1fr] items-start gap-4",children:[(0,a.jsxs)("div",{className:"min-w-0 pt-1",children:[(0,a.jsx)("div",{className:"text-xs text-zinc-200",children:c.label||(null==d?void 0:d.label)||e}),(c.label||(null==d?void 0:d.label))&&c.label!==e?(0,a.jsx)("div",{className:"mt-0.5 font-mono text-[10px] text-zinc-500 truncate",children:e}):null]}),(0,a.jsx)("div",{className:"min-w-0",children:g(e,b,()=>p(e))})]}):(0,a.jsxs)("div",{className:"grid grid-cols-[160px,1fr,auto] items-center gap-4",children:[(0,a.jsx)("div",{className:"min-w-0",children:(0,a.jsx)("div",{className:"truncate text-xs text-zinc-200",children:c.label||(null==d?void 0:d.label)||e})}),(0,a.jsx)("div",{className:"min-w-0",children:f(m,c.unit,c.kind)}),(0,a.jsx)("button",{onClick:()=>p(e),className:"text-zinc-500 hover:text-zinc-300 transition-colors p-1 rounded hover:bg-zinc-800/30 shrink-0",title:"查看源代码",children:(0,a.jsx)(P,{})})]})},e))}return o};return(0,a.jsxs)("div",{className:"space-y-6 ".concat(l),children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 border-b border-zinc-800 pb-4 overflow-x-auto",children:I.map(e=>{let t=k[e],i=e===r;return(0,a.jsxs)("button",{onClick:()=>o(e),className:"\n                flex items-center gap-2 px-3 py-2 rounded-lg transition-colors\n                ".concat(i?"bg-blue-600/20 border border-blue-500/50 text-blue-300":"hover:bg-zinc-800/50 text-zinc-400","\n              "),children:[(0,a.jsx)(u.JO,{name:t.iconName,size:18,alt:t.name}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t.name})]},e)})}),(0,a.jsx)("div",{className:"space-y-4",children:0===m.length?(0,a.jsx)("div",{className:"text-center py-6 text-zinc-400",children:"本页暂无配置数据"}):m.map(e=>{let t=L[e],i=d[e]||{};return 0===Object.keys(i).length?null:(0,a.jsxs)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 overflow-hidden",children:[(0,a.jsx)("div",{className:"border-b border-zinc-800 px-4 py-2.5 bg-zinc-800/30",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(null==t?void 0:t.iconName)&&(0,a.jsx)(u.JO,{name:t.iconName,size:20,alt:(null==t?void 0:t.name)||e}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-zinc-200",children:(null==t?void 0:t.name)||e})]})}),(0,a.jsx)("div",{className:"px-4 py-2 space-y-0",children:b(e,i)})]},e)})}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 p-4 rounded-lg bg-zinc-900/30 border border-zinc-800",children:(0,a.jsx)("p",{children:"\uD83D\uDCCB 本界面按照 OrcaSlicer 的 UI 结构组织，Tab/Page/Group 顺序与官方应用完全一致。"})})]})}function K(e){return Array.isArray(e)?e.map(e=>"string"==typeof e?e:String(e)).filter(e=>e.length>0):"string"==typeof e?e.length>0?[e]:[]:"number"==typeof e||"boolean"==typeof e?[String(e)]:[]}function S(e){var t;return null!==(t=K(e)[0])&&void 0!==t?t:""}function O(e){if(null==e)return"";if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return String(e);if(Array.isArray(e))return K(e).join("\n");try{return JSON.stringify(e)}catch(t){return String(e)}}let E={name:"名称",filament_settings_id:"耗材丝设置 ID",filament_vendor:"供应商",filament_type:"耗材类型",filament_id:"耗材 ID",compatible_printers:"兼容打印机",filament_soluble:"可溶性材料",filament_is_support:"支撑材料",impact_strength_z:"Z向冲击强度",required_nozzle_HRC:"喷嘴硬度要求",default_filament_colour:"默认颜色",filament_diameter:"直径",filament_adhesiveness_category:"粘接性类别",filament_density:"密度",filament_shrink:"收缩",filament_velocity_adaptation_factor:"速度适应系数",filament_cost:"价格",filament_notes:"备注",filament_flow_ratio:"流量比例",filament_max_volumetric_speed:"最大体积流量",filament_adaptive_volumetric_speed:"自适应体积流量",filament_printable:"可打印性",filament_scarf_gap:"斜拼接缝隙",filament_scarf_height:"斜拼接高度",filament_scarf_length:"斜拼接长度",filament_scarf_seam_type:"斜拼接方式",nozzle_temperature:"喷嘴温度",nozzle_temperature_initial_layer:"喷嘴",nozzle_temperature_range_low:"建议喷嘴温度",nozzle_temperature_range_high:"建议喷嘴温度 (最大)",textured_plate_temp:"纹理板温度",textured_plate_temp_initial_layer:"纹理PEI打印板",hot_plate_temp:"热板温度",hot_plate_temp_initial_layer:"光面PEI打印板 / 高温打印板",cool_plate_temp:"冷板温度",cool_plate_temp_initial_layer:"低温打印板",eng_plate_temp:"工程板温度",eng_plate_temp_initial_layer:"工程材料打印板",supertack_plate_temp:"SuperTack 板温度",supertack_plate_temp_initial_layer:"增粘低温打印板",chamber_temperatures:"腔体温度",temperature_vitrification:"软化温度",filament_cooling_before_tower:"擦拭塔冷却",filament_tower_interface_pre_extrusion_dist:"接触层预挤出距离",filament_tower_interface_pre_extrusion_length:"接触层预挤出长度",filament_tower_ironing_area:"擦拭塔熨烫面积",filament_tower_interface_purge_volume:"擦拭塔冲刷长度",fan_min_speed:"最小风扇速度",fan_max_speed:"最大风扇速度",additional_cooling_fan_speed:"附加冷却风扇速度",overhang_fan_speed:"悬垂风扇速度",enable_overhang_bridge_fan:"启用悬垂/桥接风扇",close_fan_the_first_x_layers:"前几层关闭风扇",slow_down_for_layer_cooling:"启用冷却减速",slow_down_layer_time:"冷却层时间",slow_down_min_speed:"冷却最小速度",during_print_exhaust_fan_speed:"打印中排风扇速度",complete_print_exhaust_fan_speed:"打印完成排风扇速度",activate_air_filtration:"启用空气过滤",filament_extruder_variant:"挤出机规格",filament_retraction_length:"回抽长度",filament_retraction_length_nc:"回抽长度 (无切换)",filament_retraction_speed:"回抽速度",filament_deretraction_speed:"抽回恢复速度",filament_retract_before_wipe:"擦拭前回抽",filament_retract_restart_extra:"回抽恢复补偿",filament_retract_when_changing_layer:"换层回抽",filament_retraction_distances_when_cut:"切断回抽距离",filament_retraction_minimum_travel:"回抽最小移动距离",filament_long_retractions_when_cut:"切断时长回抽",filament_change_length:"材料预冲刷长度",filament_change_length_nc:"材料预冲刷长度 (无切换)",filament_prime_volume:"材料清理量",filament_prime_volume_nc:"材料清理量 (无切换)",filament_minimal_purge_on_wipe_tower:"擦拭塔最小冲刷量",filament_ramming_volumetric_speed:"预冲刷体积速度",filament_ramming_volumetric_speed_nc:"预冲刷体积速度 (无切换)",filament_ramming_travel_time:"预冲刷后的空驶时间",filament_ramming_travel_time_nc:"预冲刷后的空驶时间 (无切换)",filament_flush_volumetric_speed:"冲刷体积速度",filament_flush_temp:"冲刷温度",filament_flush_temp_initial_layer:"冲刷温度",filament_flush_temp_initial_layer_nc:"首层冲刷温度 (无切换)",filament_pre_cooling_temperature:"预降温目标温度",filament_pre_cooling_temperature_nc:"预降温目标温度 (无切换)",filament_start_gcode:"耗材丝起始 G-code",filament_end_gcode:"耗材丝结束 G-code",from:"来源",inherits:"继承",version:"版本",full_fan_speed_layer:"全速风扇层",pre_start_fan_time:"风扇预启动时间",pressure_advance:"压力提前",reduce_fan_stop_start_freq:"降低风扇启停频率",cooling_slowdown_logic:"冷却减速逻辑",cooling_perimeter_transition_distance:"冷却减速过渡距离",circle_compensation_speed:"圆弧补偿速度",counter_coef_1:"内补偿系数 1",counter_coef_2:"内补偿系数 2",counter_coef_3:"内补偿系数 3",counter_limit_max:"内补偿上限",counter_limit_min:"内补偿下限",overhang_fan_threshold:"悬垂风扇阈值",overhang_threshold_participating_cooling:"参与冷却的悬垂阈值",hole_coef_1:"孔补偿系数 1",hole_coef_2:"孔补偿系数 2",hole_coef_3:"孔补偿系数 3",hole_limit_max:"孔补偿上限",hole_limit_min:"孔补偿下限",filament_wipe:"擦拭",filament_wipe_distance:"擦拭距离",filament_z_hop:"Z 抬升",filament_z_hop_types:"Z 抬升方式",filament_bridge_speed:"桥接速度",filament_overhang_totally_speed:"悬垂速度",filament_overhang_1_4_speed:"悬垂速度 (1/4)",filament_overhang_2_4_speed:"悬垂速度 (2/4)",filament_overhang_3_4_speed:"悬垂速度 (3/4)",filament_overhang_4_4_speed:"悬垂速度 (4/4)",filament_enable_overhang_speed:"启用悬垂速度",filament_tower_interface_print_temp:"接触层打印温度",diameter_limit:"直径偏差限制",during_print_exhaust_fan_speed_num:"打印中排风扇速度数值",complete_print_exhaust_fan_speed_num:"打印完成排风扇速度数值"};function T(e){return e&&"object"==typeof e&&!Array.isArray(e)?e:{}}function R(){let{index:e,loading:t,error:i}=(0,m.Z)(),o=(0,l.usePathname)(),s=[];o&&o.startsWith("/filaments")&&(s=o.replace(/^\/filaments\/?/,"").split("/").filter(Boolean));let _=s[0]?r(s[0]):void 0,g=s[1]?r(s[1]):void 0,x=s[2]?r(s[2]):void 0,b=s[3]?r(s[3]):void 0,[h,z]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[I,w]=(0,n.useState)("orca"),[L,k]=(0,n.useState)({selectedVendor:_,selectedType:g,selectedSeries:x});if((0,n.useEffect)(()=>{k({selectedVendor:_,selectedType:g,selectedSeries:x})},[_,g,x]),(0,n.useEffect)(()=>{if(b&&_&&g&&x&&e){N(!0);let t=(0,p.cp)(e,_,g,x).find(e=>e.displayName===b);t?(0,p.QX)("Filaments/".concat(_,"/").concat(g,"/").concat(x,"/").concat(t.fileName)).then(e=>{z(e),N(!1)}).catch(e=>{console.error(e),N(!1)}):N(!1)}},[b,_,g,x,e]),i)return(0,a.jsxs)(f,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)("div",{className:"mt-8 rounded-md bg-red-900/20 p-4 text-red-200 border border-red-900/50",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"无法加载耗材数据"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-red-300/80",children:i.message})]})]});if(t||!e)return(0,a.jsxs)(f,{children:[(0,a.jsx)(d,{}),(0,a.jsx)("div",{className:"mt-8 text-zinc-500",children:"Loading filaments..."})]});if(_&&!g&&!x){let t=(0,p.yu)(e,_),i=L.selectedType||t[0],n=i?(0,p.gU)(e,_,i):[],l=L.selectedSeries||n[0],r=_&&i&&l?(0,p.cp)(e,_,i,l):[];return(0,a.jsxs)(f,{vendor:_,children:[(0,a.jsx)(d,{vendor:_}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-zinc-50",children:_}),(0,a.jsx)("p",{className:"mt-2 text-zinc-400",children:"选择下方的类型和系列查看耗材配置"})]}),(0,a.jsxs)("div",{className:"mt-8 flex gap-6",children:[(0,a.jsxs)("nav",{className:"w-80 shrink-0 px-2 py-2 text-sm flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"sticky top-6",children:[(0,a.jsx)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400",children:"类型"}),(0,a.jsx)("div",{className:"space-y-1",children:t.length>0?t.map(t=>(0,a.jsx)("button",{onClick:()=>{let i=(0,p.gU)(e,_,t)[0];k({selectedVendor:_,selectedType:t,selectedSeries:i})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(t===i?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,a.jsx)("span",{className:"truncate",children:t})},t)):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用类型"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400",children:"系列"}),(0,a.jsx)("div",{className:"space-y-1",children:i?n.length>0?n.map(e=>(0,a.jsx)("button",{onClick:()=>{k({selectedVendor:_,selectedType:i,selectedSeries:e})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(e===l?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,a.jsx)("span",{className:"truncate",children:e})},e)):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用系列"}):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择类型"})})]})]}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:i?l?r.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-zinc-50 mb-1",children:[_," • ",i," • ",l]}),(0,a.jsxs)("p",{className:"text-xs text-zinc-400",children:["共 ",r.length," 个配置"]})]}),(0,a.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:r.map(e=>(0,a.jsxs)(c,{href:"/filaments/".concat(_,"/").concat(i,"/").concat(l,"/").concat(e.displayName),className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4 hover:border-zinc-700 hover:bg-zinc-900/70 transition-colors",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-zinc-50",children:e.displayName}),e.compatiblePrinters.length>0&&(0,a.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:e.compatiblePrinters.join(", ")})]},e.fileName))})]}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"暂无该系列的配置"})}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"请选择耗材系列"})}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"请先选择耗材类型"})})})]})]})}if(b&&_&&g&&x){let t=(0,p.cp)(e,_,g,x),i=t.find(e=>e.displayName===b),n=h?function(e){var t;let i=K(e.compatible_printers),a=function(e){for(let t of[{tempKey:"textured_plate_temp",initialKey:"textured_plate_temp_initial_layer"},{tempKey:"hot_plate_temp",initialKey:"hot_plate_temp_initial_layer"},{tempKey:"cool_plate_temp",initialKey:"cool_plate_temp_initial_layer"},{tempKey:"eng_plate_temp",initialKey:"eng_plate_temp_initial_layer"},{tempKey:"supertack_plate_temp",initialKey:"supertack_plate_temp_initial_layer"}]){let i=S(e[t.tempKey]),a=S(e[t.initialKey]);if(i&&"0"!==i||a&&"0"!==a)return{temp:i,initial:a}}return{temp:"",initial:""}}(e),n={name:S(e.name)||S(e.filament_settings_id),vendor:S(e.filament_vendor),type:S(e.filament_type),filamentId:"string"==typeof e.filament_id?e.filament_id:"",printers:i,diameter:S(e.filament_diameter),density:S(e.filament_density),cost:S(e.filament_cost),flowRatio:S(e.filament_flow_ratio),maxVolumetricSpeed:S(e.filament_max_volumetric_speed),nozzleTemp:S(e.nozzle_temperature),nozzleTempInitial:S(e.nozzle_temperature_initial_layer),bedTemp:a.temp,bedTempInitial:a.initial},l={nozzle_temperature_initial_layer:{rightKey:"nozzle_temperature",leftLabel:"首层",rightLabel:"其它层"},textured_plate_temp_initial_layer:{rightKey:"textured_plate_temp",leftLabel:"首层",rightLabel:"其它层"},hot_plate_temp_initial_layer:{rightKey:"hot_plate_temp",leftLabel:"首层",rightLabel:"其它层"},cool_plate_temp_initial_layer:{rightKey:"cool_plate_temp",leftLabel:"首层",rightLabel:"其它层"},eng_plate_temp_initial_layer:{rightKey:"eng_plate_temp",leftLabel:"首层",rightLabel:"其它层"},supertack_plate_temp_initial_layer:{rightKey:"supertack_plate_temp",leftLabel:"首层",rightLabel:"其它层"},filament_flush_temp_initial_layer:{rightKey:"filament_flush_temp",leftLabel:"首层",rightLabel:"其它层"},nozzle_temperature_range_low:{rightKey:"nozzle_temperature_range_high",leftLabel:"最小",rightLabel:"最大"},filament_prime_volume:{rightKey:"filament_prime_volume_nc",leftLabel:"耗材丝更换",rightLabel:"热端更换"},filament_change_length:{rightKey:"filament_change_length_nc",leftLabel:"挤出机更换",rightLabel:"热端更换"},filament_ramming_travel_time:{rightKey:"filament_ramming_travel_time_nc",leftLabel:"挤出机更换",rightLabel:"热端更换"},filament_pre_cooling_temperature:{rightKey:"filament_pre_cooling_temperature_nc",leftLabel:"挤出机更换",rightLabel:"热端更换"},filament_ramming_volumetric_speed:{rightKey:"filament_ramming_volumetric_speed_nc",leftLabel:"挤出机更换",rightLabel:"热端更换"}},r=new Set;for(let t in l)if(Object.prototype.hasOwnProperty.call(l,t)){let i=l[t];t in e&&i.rightKey in e&&r.add(i.rightKey)}let o=Object.keys(e),s=[];for(let t of o){if(r.has(t))continue;let i=function(e){var t;let i="基础信息",a="打印温度",n="体积速度限制",l="材料斜拼接参数",r="特定层冷却",o="零件冷却风扇",s="辅助部件冷却风扇",c="回抽",d="速度",m="冲刷/置换";return null!==(t=({name:{tab:"filament",section:i,order:1},filament_settings_id:{tab:"filament",section:i,order:2},filament_id:{tab:"filament",section:i,order:3},compatible_printers:{tab:"filament",section:i,order:4},filament_type:{tab:"filament",section:i,order:10},filament_vendor:{tab:"filament",section:i,order:20},filament_soluble:{tab:"filament",section:i,order:30},filament_is_support:{tab:"filament",section:i,order:40},impact_strength_z:{tab:"filament",section:i,order:50},required_nozzle_HRC:{tab:"filament",section:i,order:60},default_filament_colour:{tab:"filament",section:i,order:70},filament_diameter:{tab:"filament",section:i,order:80},filament_adhesiveness_category:{tab:"filament",section:i,order:90},filament_flow_ratio:{tab:"filament",section:i,order:100},filament_density:{tab:"filament",section:i,order:110},filament_shrink:{tab:"filament",section:i,order:120},filament_velocity_adaptation_factor:{tab:"filament",section:i,order:125},filament_cost:{tab:"filament",section:i,order:130},temperature_vitrification:{tab:"filament",section:i,order:140},filament_cooling_before_tower:{tab:"filament",section:i,order:150},filament_tower_interface_pre_extrusion_dist:{tab:"filament",section:i,order:160},filament_tower_interface_pre_extrusion_length:{tab:"filament",section:i,order:170},filament_tower_ironing_area:{tab:"filament",section:i,order:180},filament_tower_interface_purge_volume:{tab:"filament",section:i,order:190},filament_tower_interface_print_temp:{tab:"filament",section:i,order:200},filament_change_length:{tab:"filament",section:i,order:220},filament_pre_cooling_temperature:{tab:"filament",section:i,order:240},nozzle_temperature_range_low:{tab:"filament",section:i,order:250},nozzle_temperature_range_high:{tab:"filament",section:i,order:251},supertack_plate_temp_initial_layer:{tab:"filament",section:a,order:10},supertack_plate_temp:{tab:"filament",section:a,order:20},cool_plate_temp_initial_layer:{tab:"filament",section:a,order:30},cool_plate_temp:{tab:"filament",section:a,order:40},eng_plate_temp_initial_layer:{tab:"filament",section:a,order:50},eng_plate_temp:{tab:"filament",section:a,order:60},hot_plate_temp_initial_layer:{tab:"filament",section:a,order:70},hot_plate_temp:{tab:"filament",section:a,order:80},textured_plate_temp_initial_layer:{tab:"filament",section:a,order:90},textured_plate_temp:{tab:"filament",section:a,order:100},nozzle_temperature_initial_layer:{tab:"filament",section:a,order:110},nozzle_temperature:{tab:"filament",section:a,order:120},chamber_temperatures:{tab:"filament",section:a,order:130},filament_adaptive_volumetric_speed:{tab:"filament",section:n,order:10},filament_max_volumetric_speed:{tab:"filament",section:n,order:20},filament_printable:{tab:"filament",section:n,order:30},filament_scarf_gap:{tab:"filament",section:l,order:10},filament_scarf_height:{tab:"filament",section:l,order:20},filament_scarf_length:{tab:"filament",section:l,order:30},filament_scarf_seam_type:{tab:"filament",section:l,order:40},close_fan_the_first_x_layers:{tab:"cooling",section:r,order:10},additional_cooling_fan_speed:{tab:"cooling",section:r,order:20},cooling_slowdown_logic:{tab:"cooling",section:r,order:30},cooling_perimeter_transition_distance:{tab:"cooling",section:r,order:40},slow_down_for_layer_cooling:{tab:"cooling",section:r,order:50},slow_down_layer_time:{tab:"cooling",section:r,order:60},slow_down_min_speed:{tab:"cooling",section:r,order:70},fan_min_speed:{tab:"cooling",section:o,order:10},fan_max_speed:{tab:"cooling",section:o,order:20},full_fan_speed_layer:{tab:"cooling",section:o,order:30},overhang_fan_threshold:{tab:"cooling",section:o,order:40},overhang_threshold_participating_cooling:{tab:"cooling",section:o,order:50},overhang_fan_speed:{tab:"cooling",section:o,order:60},enable_overhang_bridge_fan:{tab:"cooling",section:o,order:70},pre_start_fan_time:{tab:"cooling",section:o,order:80},during_print_exhaust_fan_speed:{tab:"cooling",section:s,order:10},complete_print_exhaust_fan_speed:{tab:"cooling",section:s,order:20},activate_air_filtration:{tab:"cooling",section:s,order:30},filament_retraction_length:{tab:"overrides",section:c,order:10},filament_retraction_speed:{tab:"overrides",section:c,order:20},filament_deretraction_speed:{tab:"overrides",section:c,order:30},filament_retract_before_wipe:{tab:"overrides",section:c,order:40},filament_retract_restart_extra:{tab:"overrides",section:c,order:50},filament_retract_when_changing_layer:{tab:"overrides",section:c,order:60},filament_retraction_minimum_travel:{tab:"overrides",section:c,order:70},filament_z_hop:{tab:"overrides",section:c,order:80},filament_z_hop_types:{tab:"overrides",section:c,order:90},filament_overhang_totally_speed:{tab:"overrides",section:d,order:10},filament_overhang_1_4_speed:{tab:"overrides",section:d,order:20},filament_overhang_2_4_speed:{tab:"overrides",section:d,order:30},filament_overhang_3_4_speed:{tab:"overrides",section:d,order:40},filament_overhang_4_4_speed:{tab:"overrides",section:d,order:50},filament_bridge_speed:{tab:"overrides",section:d,order:60},circle_compensation_speed:{tab:"overrides",section:d,order:70},pressure_advance:{tab:"overrides",section:d,order:80},filament_start_gcode:{tab:"advanced",section:"耗材丝起始 G-code",order:10},filament_end_gcode:{tab:"advanced",section:"耗材丝结束 G-code",order:10},filament_prime_volume:{tab:"multi",section:m,order:10},filament_minimal_purge_on_wipe_tower:{tab:"multi",section:m,order:20},filament_ramming_volumetric_speed:{tab:"multi",section:m,order:30},filament_ramming_travel_time:{tab:"multi",section:m,order:40},filament_notes:{tab:"notes",section:"注释",order:10}})[e])&&void 0!==t?t:null}(t),a=null!=i?i:t.includes("notes")?{tab:"notes",section:"注释",order:1e3}:t.includes("gcode")?{tab:"advanced",section:"耗材丝 G-code",order:1e3}:t.includes("cool")||t.includes("fan")?{tab:"cooling",section:"其他",order:2e3}:t.includes("purge")||t.includes("prime")||t.includes("ramming")||t.includes("wipe")||t.includes("tower")?{tab:"multi",section:"其他",order:2e3}:t.includes("retract")||t.includes("deretraction")||t.includes("z_hop")?{tab:"overrides",section:"回抽",order:2e3}:t.startsWith("filament_")||t.startsWith("nozzle_")||t.includes("plate_temp")||t.includes("temperature")?{tab:"filament",section:"其他",order:2e3}:{tab:"advanced",section:"其他",order:5e3},n=e[t],o="filament_type"===t||"filament_scarf_seam_type"===t?"select":"filament_adaptive_volumetric_speed"===t?"bool":t.includes("gcode")||t.includes("notes")?"multiline":null!==function(e){let t=S(e).trim().toLowerCase();return t?"1"===t||"true"===t||"yes"===t||"0"!==t&&"false"!==t&&"no"!==t&&null:null}(n)?"bool":null!==function(e){var t;let i=("nil"===(t=S(e))?"":t).trim();if(!i)return null;let a=Number(i.replace(/%$/g,""));return Number.isFinite(a)?a:null}(n)?"number":"text",c={key:t,label:function(e){var t;return null!==(t=E[e])&&void 0!==t?t:e}(t),value:O(n),tab:a.tab,section:a.section,kind:o,unit:t.endsWith("_temp")||t.includes("temperature")||t.includes("_temp_")?"\xb0C":t.includes("fan_speed")||t.includes("exhaust_fan_speed")?"%":"filament_diameter"===t?"mm":"filament_density"===t?"g/cm\xb3":"filament_cost"===t?"money/kg":t.includes("retraction_length")?"mm":t.includes("retraction_speed")?"mm/s":t.includes("max_volumetric_speed")||t.includes("ramming_volumetric_speed")?"mm\xb3/s":t.includes("ramming_travel_time")?"秒":t.includes("prime_volume")?"mm\xb3":"filament_tower_interface_purge_volume"===t?"mm":t.includes("purge")?"mm\xb3":t.includes("flush")?"\xb0C":t.includes("shrink")?"%":t.includes("filament_tower_ironing_area")?"mm\xb2":t.includes("filament_tower_interface_pre_extrusion_dist")||t.includes("filament_tower_interface_pre_extrusion_length")||t.includes("filament_change_length")?"mm":t.includes("filament_scarf_height")||t.includes("filament_scarf_gap")?"mm/%":t.includes("filament_scarf_length")?"mm":void 0,order:a.order},d=l[t];if(d&&d.rightKey in e){let t=O(e[d.rightKey]);c.pair={leftLabel:d.leftLabel,rightLabel:d.rightLabel,rightValue:t},r.add(d.rightKey)}s.push(c)}let c=[];for(let e of[{id:"filament",label:"耗材丝"},{id:"cooling",label:"冷却模式"},{id:"overrides",label:"参数覆盖"},{id:"advanced",label:"高级"},{id:"notes",label:"注释"},{id:"multi",label:"多材料"}]){let i=s.filter(t=>t.tab===e.id);if(0===i.length)continue;let a={filament:["基础信息","材料属性","体积速度限制","打印温度","材料斜拼接参数","其他"],cooling:["特定层冷却","零件冷却风扇","辅助部件冷却风扇","其他"],overrides:["回抽","速度","其他"],advanced:["耗材丝起始 G-code","耗材丝结束 G-code","其他"],notes:["注释","其他"],multi:["冲刷/置换","回抽/换料","其他"]},n=new Map;for(let e of i){let i=null!==(t=n.get(e.section))&&void 0!==t?t:[];i.push(e),n.set(e.section,i)}let l=[...n.entries()].map(e=>{let[t,i]=e;return{id:t,label:t,fields:[...i].sort((e,t)=>e.order-t.order||e.key.localeCompare(t.key,"en",{numeric:!0}))}}).sort((t,i)=>{var n;let l=null!==(n=a[e.id])&&void 0!==n?n:[],r=l.indexOf(t.id),o=l.indexOf(i.id);return(-1===r?9999:r)-(-1===o?9999:o)||t.label.localeCompare(i.label,"zh-Hans-CN",{numeric:!0})});c.push({id:e.id,label:e.label,sections:l})}return{summary:n,tabs:c}}(T(h)):null;return(0,a.jsxs)(f,{vendor:_,type:g,series:x,children:[(0,a.jsx)(d,{vendor:_,type:g,series:x,profileLabel:b}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,a.jsx)("div",{className:"md:col-span-1",children:j||!n?(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4",children:(0,a.jsx)("div",{className:"text-sm text-zinc-500",children:"Loading..."})}):(0,a.jsx)(y,{vendor:_,type:g,series:x,fileName:(null==i?void 0:i.fileName)||b,profiles:t})}),(0,a.jsx)("div",{className:"md:col-span-2",children:j?(0,a.jsx)("div",{className:"text-zinc-500",children:"Loading profile..."}):h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>w("orca"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("orca"===I?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),children:"\uD83C\uDFAF OrcaSlicer 结构"}),(0,a.jsx)("button",{onClick:()=>w("legacy"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("legacy"===I?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),children:"\uD83D\uDCCB 原始视图"})]}),"orca"===I?(0,a.jsx)(C,{data:T(h),rawData:h}):n?(0,a.jsx)(v,{summary:n.summary,tabs:n.tabs}):(0,a.jsx)("div",{className:"text-zinc-500",children:"Unable to parse preset"})]}):(0,a.jsx)("div",{className:"text-zinc-500",children:"Profile not found"})})]})]})}(0,p.dH)(e);let P=L.selectedVendor,R=P?(0,p.yu)(e,P):[],A=L.selectedType,B=P&&A?(0,p.gU)(e,P,A):[],M=L.selectedSeries,F=P&&A&&M?(0,p.cp)(e,P,A,M):[];return(0,a.jsx)(f,{vendor:P,type:A,series:M,children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("nav",{className:"w-80 shrink-0 px-2 py-2 text-sm flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"sticky top-6",children:[(0,a.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,a.jsx)(u.JO,{name:"filament",size:14,alt:"Material Type"}),(0,a.jsx)("span",{children:"材料类型"})]}),(0,a.jsx)("div",{className:"space-y-1",children:P?R.length>0?R.map(t=>(0,a.jsx)("button",{onClick:()=>{let i=(0,p.gU)(e,P,t)[0];k({selectedVendor:P,selectedType:t,selectedSeries:i})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(t===A?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,a.jsx)("span",{className:"truncate",children:t})},t)):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用类型"}):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择品牌"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"px-2 py-1 text-xs font-medium text-zinc-400 flex items-center gap-2",children:[(0,a.jsx)(u.JO,{name:"cooling",size:14,alt:"Product Series"}),(0,a.jsx)("span",{children:"产品系列"})]}),(0,a.jsx)("div",{className:"space-y-1",children:A?B.length>0?B.map(e=>(0,a.jsx)("button",{onClick:()=>{k({selectedVendor:P,selectedType:A,selectedSeries:e})},className:"flex items-center justify-between rounded-md px-2 py-1.5 hover:bg-zinc-800/60 w-full text-left ".concat(e===M?"bg-zinc-800/80 text-zinc-50":"text-zinc-200"),children:(0,a.jsx)("span",{className:"truncate",children:e})},e)):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"暂无可用系列"}):(0,a.jsx)("div",{className:"text-xs text-zinc-500 px-2 py-1.5",children:"请先选择类型"})})]})]}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:P?A?M?F.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-zinc-50 mb-1",children:[P," • ",A," • ",M]}),(0,a.jsxs)("p",{className:"text-xs text-zinc-400",children:["共 ",F.length," 个配置"]})]}),(0,a.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:F.map(e=>(0,a.jsxs)(c,{href:"/filaments/".concat(P,"/").concat(A,"/").concat(M,"/").concat(e.displayName),className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-4 hover:border-zinc-700 hover:bg-zinc-900/70 transition-colors",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-zinc-50",children:e.displayName}),e.compatiblePrinters.length>0&&(0,a.jsx)("div",{className:"mt-1 text-xs text-zinc-400",children:e.compatiblePrinters.join(", ")})]},e.fileName))})]}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"暂无该系列的配置"})}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"请在上方选择耗材系列"})}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"请在上方选择耗材类型"})}):(0,a.jsx)("div",{className:"rounded-lg border border-zinc-800 bg-zinc-900/40 p-8 text-center",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"请先在左侧菜单选择品牌"})})})]})})}},6760:function(e,t,i){"use strict";i.d(t,{to:function(){return s},JO:function(){return r},zL:function(){return o}});var a=i(7437),n=i(3145);let l={filament:"/icons/custom-gcode_filament.svg",cooling:"/icons/custom-gcode_cooling_fan.svg","setting-override":"/icons/custom-gcode_setting_override.svg",advanced:"/icons/custom-gcode_advanced.svg",multimaterial:"/icons/custom-gcode_multi_material.svg",dependencies:"/icons/advanced.svg",note:"/icons/custom-gcode_note.svg",quality:"/icons/custom-gcode_quality.svg",strength:"/icons/custom-gcode_strength.svg",speed:"/icons/custom-gcode_speed.svg",support:"/icons/custom-gcode_support.svg",other:"/icons/custom-gcode_other.svg","object-info":"/icons/custom-gcode_object-info.svg",gcode:"/icons/custom-gcode_gcode.svg",extruder:"/icons/custom-gcode_extruder.svg",motion:"/icons/custom-gcode_motion.svg",information:"/icons/param_information.svg","flow-ratio":"/icons/param_flow_ratio_and_pressure_advance.svg","chamber-temp":"/icons/param_chamber_temp.svg","extruder-temp":"/icons/param_extruder_temp.svg","bed-temp":"/icons/param_bed_temp.svg","volumetric-speed":"/icons/param_volumetric_speed.svg","cooling-fan":"/icons/param_cooling_fan.svg","cooling-aux-fan":"/icons/param_cooling_aux_fan.svg","cooling-part-fan":"/icons/param_cooling_part_fan.svg","cooling-specific-layer":"/icons/param_cooling_specific_layer.svg","cooling-exhaust":"/icons/param_cooling_exhaust.svg",retraction:"/icons/param_retraction.svg",ironing:"/icons/param_ironing.svg",tower:"/icons/param_tower.svg",toolchange:"/icons/param_toolchange.svg","toolchange-multi-extruder":"/icons/param_toolchange_multi_extruder.svg","dependencies-printers":"/icons/param_dependencies_printers.svg","dependencies-presets":"/icons/param_dependencies_presets.svg"};function r(e){let{name:t,size:i=24,alt:r=t,className:o=""}=e,s=l[t]||"/icons/custom-gcode_filament.svg";return(0,a.jsx)("div",{className:"inline-flex items-center justify-center ".concat(o),children:(0,a.jsx)(n.default,{src:s,alt:r,width:i,height:i,className:"inline-block",priority:!1})})}function o(e){let{name:t,label:i,active:n=!1,onClick:l,size:o=32}=e;return(0,a.jsxs)("button",{onClick:l,className:"\n        flex flex-col items-center gap-2 px-3 py-2 rounded\n        transition-colors duration-200\n        ".concat(n?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-600","\n      "),title:i,children:[(0,a.jsx)(r,{name:t,size:o,alt:i}),(0,a.jsx)("span",{className:"text-xs text-center whitespace-nowrap",children:i})]})}function s(e){let{iconName:t,title:i,size:n=20}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t&&(0,a.jsx)(r,{name:t,size:n,alt:i}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:i})]})}},6549:function(e,t,i){"use strict";i.d(t,{FilamentProvider:function(){return o},Z:function(){return s}});var a=i(7437),n=i(2265),l=i(9458);let r=(0,n.createContext)({index:null,loading:!0,error:null});function o(e){let{children:t}=e,[i,o]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(0,l.Be)().then(e=>{o(e),c(!1)}).catch(e=>{console.error(e),m(e),c(!1)})},[]),(0,a.jsx)(r.Provider,{value:{index:i,loading:s,error:d},children:t})}let s=()=>(0,n.useContext)(r)},9458:function(e,t,i){"use strict";i.d(t,{Be:function(){return n},QX:function(){return l},cp:function(){return c},dH:function(){return r},gU:function(){return s},yu:function(){return o}});let a=null;async function n(){if(a)return a;let e=await fetch("/api/github/tree");if(!e.ok){console.error("Failed to fetch tree:",e.status,e.statusText);let t=await e.json().catch(()=>({}));if(t.details)try{let e=JSON.parse(t.details);if(e.message&&e.message.includes("API rate limit exceeded"))throw Error("GitHub API rate limit exceeded. Please try again later or configure a GITHUB_TOKEN.");throw Error("GitHub API Error: ".concat(e.message||t.details))}catch(i){throw Error("Failed to fetch tree: ".concat(t.details||e.statusText))}throw Error("Failed to fetch tree: ".concat(e.statusText))}let t=await e.json(),i=new Set,n=new Map,l=new Map,r=new Map;for(let e of t.tree){if(!e.path.startsWith("Filaments/")||"blob"!==e.type||!e.path.endsWith(".json"))continue;let t=e.path.split("/");if(t.length<5)continue;let a=t[1],o=t[2],s=t[3],c=t[4];i.add(a),n.has(a)||n.set(a,new Set),n.get(a).add(o);let d="".concat(a,"|||").concat(o);l.has(d)||l.set(d,new Set),l.get(d).add(s);let m="".concat(a,"|||").concat(o,"|||").concat(s);r.has(m)||r.set(m,[]);let p=c.replace(".json","");r.get(m).push({vendor:a,type:o,series:s,fileName:c,displayName:p,compatiblePrinters:[]})}let o=(e,t)=>e.localeCompare(t,"zh-Hans-CN",{numeric:!0}),s=Array.from(i).sort(o),c=new Map;n.forEach((e,t)=>{c.set(t,Array.from(e).sort(o))});let d=new Map;return l.forEach((e,t)=>{d.set(t,Array.from(e).sort(o))}),r.forEach(e=>{e.sort((e,t)=>o(e.displayName,t.displayName))}),a={vendors:s,typesByVendor:c,seriesByVendorType:d,profilesByVendorTypeSeries:r}}async function l(e){let t=await fetch("/api/github/content?path=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch profile content");return t.json()}function r(e){return e.vendors}function o(e,t){var i;return null!==(i=e.typesByVendor.get(t))&&void 0!==i?i:[]}function s(e,t,i){var a;return null!==(a=e.seriesByVendorType.get("".concat(t,"|||").concat(i)))&&void 0!==a?a:[]}function c(e,t,i,a){var n;return null!==(n=e.profilesByVendorTypeSeries.get("".concat(t,"|||").concat(i,"|||").concat(a)))&&void 0!==n?n:[]}}},function(e){e.O(0,[972,145,971,117,744],function(){return e(e.s=5795)}),_N_E=e.O()}]);